{"version":3,"sources":["components/theme-header/style.js","components/theme-header/index.js","components/songs-pagination/style.js","components/songs-pagination/index.js","components/album-cover/style.js","components/album-cover/index.js","pages/discover/c-pages/album/store/actionCreators.js","services/album.js","pages/discover/c-pages/album/c-cpns/album-hot/style.js","pages/discover/c-pages/album/c-cpns/album-hot/index.js","pages/discover/c-pages/album/c-cpns/album-top/style.js","pages/discover/c-pages/album/c-cpns/album-top/index.js","pages/discover/c-pages/album/style.js","pages/discover/c-pages/album/index.js"],"names":["HeaderWrapper","styled","div","memo","props","title","subtitle","className","PaginationWrapper","currentPage","total","pageSize","onPageChange","size","current","defaultCurrent","showSizeChanger","itemRender","type","originalElement","onChange","AlbumWrapper","width","elemSize","bgp","info","height","play","src","getSizeImage","picUrl","alt","name","href","artist","getHotAlbumsAction","dispatch","request","url","then","res","actionTypes","hotAlbums","albums","changeHotAlbumsAction","getTopAlbumsAction","page","getState","area","limit","offset","params","getTopAlbums","getIn","PER_PAGE_NUMBER","topAlbums","changeTopAlbumAction","HotAlbumWrapper","useSelector","state","shallowEqual","useDispatch","useEffect","slice","map","item","index","id","TopAlbumWrapper","useState","setCurrentPage","AblumWrapper"],"mappings":"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","file":"static/js/6.261f7f3d.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const HeaderWrapper = styled.div`\n  display: flex;\n  align-items: flex-end;\n  font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\n  padding-bottom: 5px;\n  border-bottom: 2px solid #c20c0c;\n  .title {\n    font-size: 24px;\n  }\n\n  .right {\n  }\n`;\n","import React, { memo } from \"react\";\n\nimport { HeaderWrapper } from \"./style\";\n\nexport default memo(function HYThemeHeader(props) {\n  const { title, subtitle } = props;\n\n  return (\n    <HeaderWrapper>\n      <div className=\"title\">{title}</div>\n      <div className=\"right\">{subtitle}</div>\n    </HeaderWrapper>\n  );\n});\n","import styled from 'styled-components';\n\nexport const PaginationWrapper = styled.div`\n  .pagination {\n    margin: 30px 0;\n    text-align: center;\n\n    .control {\n      width: 69px;\n      height: 24px;\n      line-height: 22px;\n      text-align: center;\n      border: 1px solid #ccc;\n      border-radius: 2px;\n      margin: 0 5px;\n      color: #333;\n\n      &:disabled {\n        color: #999;\n      }\n    }\n\n    .ant-pagination-item {\n      border: 1px solid #ccc !important;\n      margin: 0 5px;\n      border-radius: 3px;\n\n      a {\n        font-size: 12px;\n      }\n\n      &.ant-pagination-item-active {\n        background-color: #c20c0c;\n        border-color: #A2161B;\n        a {\n          color: #fff;\n        }\n      }\n    }\n  }\n`","import React, { memo } from \"react\";\n\nimport { Pagination } from \"antd\";\nimport { PaginationWrapper } from \"./style\";\n\nexport default memo(function LJPagination(props) {\n  const { currentPage, total, pageSize, onPageChange } = props;\n\n  // handle function\n  // 修改页码的展示样式，“上一页”，“下一页”\n  function itemRender(current, type, originalElement) {\n    if (type === \"prev\") {\n      return <button className=\"control prev\"> &lt; 上一页</button>;\n    }\n    if (type === \"next\") {\n      return <button className=\"control next\">下一页 &gt;</button>;\n    }\n    return originalElement;\n  }\n\n  return (\n    <PaginationWrapper>\n      <Pagination\n        className=\"pagination\"\n        size=\"small\"\n        current={currentPage}\n        defaultCurrent={1}\n        total={total}\n        pageSize={pageSize}\n        showSizeChanger={false}\n        itemRender={itemRender}\n        onChange={onPageChange}\n      />\n    </PaginationWrapper>\n  );\n});\n","import styled from \"styled-components\";\n\nexport const AlbumWrapper = styled.div`\n  /* props: \n      size: 130,\n      width: 153, \n      height: 153,\n      bgp: -845,  \n  */\n\n  width: ${(props) => props.width + \"px\"};\n  margin-bottom: ${(props) => (props.elemSize !== \"big\" ? \"0\" : \"15px\")};\n\n  .album-image {\n    position: relative;\n    width: ${(props) => props.width + \"px\"};\n    height: ${(props) => props.size + \"px\"};\n    overflow: hidden;\n    margin-top: 15px;\n\n    img {\n      width: ${(props) => props.size + \"px\"};\n      height: ${(props) => props.size + \"px\"};\n    }\n\n    .cover {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      background-position: 0 ${(props) => props.bgp + \"px\"};\n      text-indent: -9999px;\n    }\n\n    .play {\n      /* size=130 */\n      position: absolute;\n\n      bottom: ${(props) => (props.size === 130 ? 5 + \"px\" : 4 + \"px\")};\n      left: ${(props) => (props.size === 130 ? 94 + \"px\" : 72 + \"px\")};\n      width: ${(props) => (props.size === 130 ? 28 + \"px\" : 22 + \"px\")};\n      height: ${(props) => (props.size === 130 ? 28 + \"px\" : 22 + \"px\")};\n      background-position: 0\n        ${(props) => (props.size === 130 ? -140 + \"px\" : -110 + \"px\")};\n\n      text-indent: -9999px;\n      display: none;\n    }\n    &:hover .play {\n      display: block;\n    }\n  }\n\n  .album-info {\n    font-size: 12px;\n    width: ${(props) => props.size};\n    .name {\n      color: #000;\n      /* 不允许折行 */\n      white-space: nowrap;\n      /* 超出包含块边界后，用省略号表示 */\n      text-overflow: ellipsis;\n      overflow: hidden;\n      margin: ${(props) =>\n        props.elemSize !== \"big\" ? \"3px 0 0 0\" : \"8px 0 2px\"};\n      font-size: ${(props) => (props.elemSize !== \"big\" ? \"12px\" : \"14px\")};\n    }\n\n    .artist {\n      color: #666;\n    }\n  }\n`;\n","import React, { memo } from \"react\";\n\nimport { getSizeImage } from \"@/utils/format-utils\";\n\nimport { AlbumWrapper } from \"./style\";\n\nexport default memo(function LJAlbumCover(props) {\n  const {\n    info,\n    size = 130,\n    width = 153,\n    height = 153,\n    bgp = -845,\n    play = -140,\n    elemSize = \"small\",\n  } = props;\n\n  return (\n    // 照片尺寸\n    <AlbumWrapper\n      size={size}\n      width={width}\n      height={height}\n      bgp={bgp}\n      play={play}\n      elemSize={elemSize}\n    >\n      <div className=\"album-image\">\n        <img src={getSizeImage(info.picUrl, size)} alt={info.name} />\n        <a href=\"/todo\" className=\"cover image_cover\">\n          {info.name}\n        </a>\n        <a href=\"/todo\" className=\"play sprite_icon\">\n          play\n        </a>\n      </div>\n      <div className=\"album-info\">\n        <div className=\"name text-nowrap\">{info.name}</div>\n        <div className=\"artist text-nowrap\">\n          {info.artist.name ? info.artist.name : \"未知歌手\"}\n        </div>\n      </div>\n    </AlbumWrapper>\n  );\n});\n","import * as actionTypes from \"./constants\";\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\n\nimport { getHotAlbums, getTopAlbums } from \"@/services/album.js\";\n\n// 内部\nconst changeHotAlbumsAction = (res) => ({\n  type: actionTypes.CHANGE_HOT_ALBUMS,\n  hotAlbums: res.albums,\n});\n\nconst changeTopAlbumAction = (res) => ({\n  type: actionTypes.CHANGE_TOP_ALBUMS,\n  topAlbums: res.albums,\n});\n\nconst changeTopTotalAction = (total) => ({\n  type: actionTypes.CHANGE_TOP_TOTAL,\n  total: total,\n});\n\nexport const changeTopAreaAction = (area) => ({\n  type: actionTypes.CHANGE_TOP_AREA,\n  area: area,\n});\n// 异步action\n// 获得热门新碟数据\nexport const getHotAlbumsAction = () => {\n  return (dispatch) => {\n    getHotAlbums().then((res) => {\n      dispatch(changeHotAlbumsAction(res));\n    });\n  };\n};\n\n// 获得全部新碟数据\n// page - 1\nexport const getTopAlbumsAction = (page) => {\n  return (dispatch, getState) => {\n    // 获取 专辑地区\n    const area = getState().getIn([\"album\", \"topArea\"]);\n    getTopAlbums(area, 30, (page - 1) * PER_PAGE_NUMBER).then((res) => {\n      dispatch(changeTopAlbumAction(res));\n      dispatch(changeTopTotalAction(res.total));\n    });\n  };\n};\n","import request from \"./request\";\n\n// 获取：热门新碟\nexport function getHotAlbums() {\n  return request({\n    url: \"/album/newest\",\n  });\n}\n\n// 获取：全部新碟\nexport function getTopAlbums(area = \"ALL\", limit, offset) {\n  return request({\n    url: \"/top/album\",\n    params: {\n      area,\n      limit,\n      offset,\n    },\n  });\n}\n","import styled from \"styled-components\";\n\nexport const HotAlbumWrapper = styled.div`\n  .album-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin-top: 5px;\n  }\n`;\n","import React, { memo, useEffect } from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\n\nimport { getHotAlbumsAction } from \"../../store/actionCreators\";\n\nimport LJAlbumCover from \"@/components/album-cover\";\nimport LJThemHeader from \"@/components/theme-header\";\nimport { HotAlbumWrapper } from \"./style\";\n\nexport default memo(function LJAlbumHot() {\n  const { hotAlbums } = useSelector(\n    (state) => ({\n      hotAlbums: state.getIn([\"album\", \"hotAlbums\"]),\n    }),\n    shallowEqual\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getHotAlbumsAction());\n  }, [dispatch]);\n\n  return (\n    <HotAlbumWrapper>\n      <LJThemHeader title=\"热门新碟\" />\n      <div className=\"album-list\">\n        {/* 只要前10个 */}\n        {hotAlbums.slice(0, 10).map((item, index) => {\n          return (\n            <LJAlbumCover\n              size={130}\n              width={153}\n              height={153}\n              bgp={-845}\n              elemSize={\"big\"}\n              key={item.id}\n              info={item}\n            />\n          );\n        })}\n      </div>\n    </HotAlbumWrapper>\n  );\n});\n","import styled from \"styled-components\";\n\nexport const TopAlbumWrapper = styled.div`\n  margin-top: 10px;\n\n  .album-list {\n    display: flex;\n    /* flex 排布允许折行 */\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin-top: 5px;\n  }\n`;\n","import React, { memo, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\n\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\nimport {\n  getTopAlbumsAction,\n  changeTopAreaAction,\n} from \"../../store/actionCreators\";\n\nimport LJThemeHeader from \"@/components/theme-header\";\nimport LJAlbumCover from \"@/components/album-cover\";\nimport LJPagination from \"@/components/songs-pagination\";\nimport { TopAlbumWrapper } from \"./style\";\n\nexport default memo(function LJAlbumTop() {\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const { topAlbums, total } = useSelector(\n    (state) => ({\n      topAlbums: state.getIn([\"album\", \"topAlbums\"]),\n      total: state.getIn([\"album\", \"topTotal\"]),\n    }),\n    shallowEqual\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getTopAlbumsAction(1));\n    dispatch(changeTopAreaAction());\n  }, [dispatch]);\n\n  const onPageChange = (page) => {\n    setCurrentPage(page);\n    dispatch(getTopAlbumsAction(page));\n  };\n\n  return (\n    <TopAlbumWrapper>\n      <LJThemeHeader title=\"全部新碟\" subtitle={true} />\n      <div className=\"album-list\">\n        {topAlbums.map((item, index) => {\n          return (\n            <LJAlbumCover\n              size={130}\n              width={153}\n              height={153}\n              bgp={-845}\n              elemSize={\"big\"}\n              key={item.id}\n              info={item}\n            />\n          );\n        })}\n      </div>\n      <LJPagination\n        currentPage={currentPage}\n        total={total}\n        pageSize={PER_PAGE_NUMBER}\n        onPageChange={onPageChange}\n      />\n    </TopAlbumWrapper>\n  );\n});\n","import styled from \"styled-components\";\n\nexport const AblumWrapper = styled.div`\n  padding: 37px 40px 40px 40px;\n  background-color: #fff;\n  border: 1px solid #d3d3d3;\n  border-width: 0 1px;\n`;\n","import React, { memo } from \"react\";\n\nimport LJHotAlbum from \"./c-cpns/album-hot\";\nimport LJTopAlbum from \"./c-cpns/album-top\";\nimport { AblumWrapper } from \"./style\";\n\nexport default memo(function LJAlbum() {\n  return (\n    <AblumWrapper className=\"wrap-v2\">\n      <LJHotAlbum />\n      <LJTopAlbum />\n    </AblumWrapper>\n  );\n});\n"],"sourceRoot":""}