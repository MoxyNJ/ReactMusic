{"ast":null,"code":"import _slicedToArray from\"/Users/moxy/ReactTea/moxy-music-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useState}from\"react\";import{useSelector,shallowEqual}from\"react-redux\";import{getSizeImage}from\"@/utils/format-utils\";import LJSongOperationBar from\"@/components/song-operation-bar\";import{InfoWrapper,InfoLeftWrapper,InfoRightWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJPlayerInfo(){// reack hooks -> props\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isShow=_useState2[0],setIsShow=_useState2[1];// redux hooks\nvar _useSelector=useSelector(function(state){return{currentSong:state.getIn([\"player\",\"currentSong\"]),lyricList:state.getIn([\"player\",\"lyricList\"])};},shallowEqual),currentSong=_useSelector.currentSong,lyricList=_useSelector.lyricList;// handle function\nvar totalLyricCount=isShow?lyricList.length:13;return/*#__PURE__*/_jsxs(InfoWrapper,{children:[/*#__PURE__*/_jsxs(InfoLeftWrapper,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image\",children:[/*#__PURE__*/_jsx(\"img\",{src:getSizeImage(currentSong.al&&currentSong.al.picUrl,130),alt:currentSong.name}),/*#__PURE__*/_jsx(\"span\",{className:\"cover image_cover\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"sprite_icon2\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#/\",children:\"\\u751F\\u6210\\u5916\\u94FE\\u64AD\\u653E\\u5668\"})]})]}),/*#__PURE__*/_jsxs(InfoRightWrapper,{isShow:isShow,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"sprite_icon2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:currentSong.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\u6B4C\\u624B\\uFF1A\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/todo\",className:\"name\",children:currentSong.ar&&currentSong.ar[0].name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\u6240\\u5C5E\\u4E13\\u8F91\\uFF1A\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/todo\",className:\"name\",children:currentSong.al&&currentSong.al.name})]}),/*#__PURE__*/_jsx(LJSongOperationBar,{collectionT:\"\\u6536\\u85CF\",shareT:\"\\u5206\\u4EAB\",downloadT:\"\\u4E0B\\u8F7D\",commentT:\"(\".concat(currentSong.dt,\")\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"lyric\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lyric-info\",children:lyricList.slice(0,totalLyricCount).map(function(item,index){return/*#__PURE__*/_jsx(\"p\",{className:\"text\",children:item.content},item.time);})}),/*#__PURE__*/_jsxs(\"button\",{className:\"lyric-control\",onClick:function onClick(e){return setIsShow(!isShow);},children:[isShow?\"收起\":\"展开\",/*#__PURE__*/_jsx(\"i\",{className:\"sprite_icon2\"})]})]})]})]});});","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/player/app-player-full/c-cpns/player-info/index.js"],"names":["React","memo","useState","useSelector","shallowEqual","getSizeImage","LJSongOperationBar","InfoWrapper","InfoLeftWrapper","InfoRightWrapper","LJPlayerInfo","isShow","setIsShow","state","currentSong","getIn","lyricList","totalLyricCount","length","al","picUrl","name","ar","dt","slice","map","item","index","content","time","e"],"mappings":"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","sourcesContent":["import React, { memo, useState } from \"react\";\nimport { useSelector, shallowEqual } from \"react-redux\";\n\nimport { getSizeImage } from \"@/utils/format-utils\";\n\nimport LJSongOperationBar from \"@/components/song-operation-bar\";\nimport { InfoWrapper, InfoLeftWrapper, InfoRightWrapper } from \"./style\";\n\nexport default memo(function LJPlayerInfo() {\n  // reack hooks -> props\n  const [isShow, setIsShow] = useState(false);\n\n  // redux hooks\n  const { currentSong, lyricList } = useSelector(\n    (state) => ({\n      currentSong: state.getIn([\"player\", \"currentSong\"]),\n      lyricList: state.getIn([\"player\", \"lyricList\"]),\n    }),\n    shallowEqual\n  );\n\n  // handle function\n  const totalLyricCount = isShow ? lyricList.length : 13;\n\n  return (\n    <InfoWrapper>\n      <InfoLeftWrapper>\n        <div className=\"image\">\n          <img\n            src={getSizeImage(currentSong.al && currentSong.al.picUrl, 130)}\n            alt={currentSong.name}\n          />\n          <span className=\"cover image_cover\"></span>\n        </div>\n        <div className=\"link\">\n          <i className=\"sprite_icon2\"></i>\n          <a href=\"#/\">生成外链播放器</a>\n        </div>\n      </InfoLeftWrapper>\n      <InfoRightWrapper isShow={isShow}>\n        <div className=\"header\">\n          <i className=\"sprite_icon2\"></i>\n          <h3 className=\"title\">{currentSong.name}</h3>\n        </div>\n        <div className=\"item\">\n          <span className=\"label\">歌手：</span>\n          <a href=\"/todo\" className=\"name\">\n            {currentSong.ar && currentSong.ar[0].name}\n          </a>\n        </div>\n        <div className=\"item\">\n          <span className=\"label\">所属专辑：</span>\n          <a href=\"/todo\" className=\"name\">\n            {currentSong.al && currentSong.al.name}\n          </a>\n        </div>\n\n        <LJSongOperationBar\n          collectionT=\"收藏\"\n          shareT=\"分享\"\n          downloadT=\"下载\"\n          commentT={`(${currentSong.dt})`}\n        />\n\n        <div className=\"lyric\">\n          <div className=\"lyric-info\">\n            {lyricList.slice(0, totalLyricCount).map((item, index) => {\n              return (\n                <p key={item.time} className=\"text\">\n                  {item.content}\n                </p>\n              );\n            })}\n          </div>\n          <button className=\"lyric-control\" onClick={(e) => setIsShow(!isShow)}>\n            {isShow ? \"收起\" : \"展开\"}\n            <i className=\"sprite_icon2\"></i>\n          </button>\n        </div>\n      </InfoRightWrapper>\n    </InfoWrapper>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}