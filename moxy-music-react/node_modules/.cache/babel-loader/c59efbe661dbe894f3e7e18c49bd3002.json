{"ast":null,"code":"import _slicedToArray from\"/Users/moxy/ReactTea/moxy-music-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useCallback,useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Slider}from\"antd\";import{changePlayerVolumeAction}from\"../../../store/actionCreators\";import{PlayerVolumeWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJPlayerVolume(){// redux hooks\nvar _useSelector=useSelector(function(state){return{volume:state.getIn([\"player\",\"volume\"])};}),volume=_useSelector.volume;// 进度条\nvar _useState=useState(volume),_useState2=_slicedToArray(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var dispatch=useDispatch();// react hooks\n// 初始化\nuseEffect(function(){setProgress(volume*100);},[volume]);// 按下\nvar sliderChange=useCallback(function(value){dispatch(changePlayerVolumeAction(value/100));},[dispatch]);return/*#__PURE__*/_jsx(PlayerVolumeWrapper,{className:\"sprite_playbar\",children:/*#__PURE__*/_jsx(Slider,{vertical:true,className:\"sprite_playbar\",value:progress,onChange:sliderChange})});});","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/player/app-player-bar/c-cpns/app-player-volume/index.js"],"names":["React","memo","useCallback","useEffect","useState","useDispatch","useSelector","Slider","changePlayerVolumeAction","PlayerVolumeWrapper","LJPlayerVolume","state","volume","getIn","progress","setProgress","dispatch","sliderChange","value"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAsBC,WAAtB,CAAmCC,SAAnC,CAA8CC,QAA9C,KAA8D,OAA9D,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,MAAvB,CAEA,OAASC,wBAAT,KAAyC,+BAAzC,CAEA,OAASC,mBAAT,KAAoC,SAApC,C,2CAEA,2BAAeR,IAAI,CAAC,QAASS,CAAAA,cAAT,EAA0B,CAC5C;AAD4C,iBAEzBJ,WAAW,CAAC,SAACK,KAAD,QAAY,CACzCC,MAAM,CAAED,KAAK,CAACE,KAAN,CAAY,CAAC,QAAD,CAAW,QAAX,CAAZ,CADiC,CAAZ,EAAD,CAFc,CAEpCD,MAFoC,cAEpCA,MAFoC,CAM5C;AAN4C,cAOZR,QAAQ,CAACQ,MAAD,CAPI,wCAOrCE,QAPqC,eAO3BC,WAP2B,eAS5C,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA;AACA;AACAF,SAAS,CAAC,UAAM,CACdY,WAAW,CAACH,MAAM,CAAG,GAAV,CAAX,CACD,CAFQ,CAEN,CAACA,MAAD,CAFM,CAAT,CAIA;AACA,GAAMK,CAAAA,YAAY,CAAGf,WAAW,CAC9B,SAACgB,KAAD,CAAW,CACTF,QAAQ,CAACR,wBAAwB,CAACU,KAAK,CAAG,GAAT,CAAzB,CAAR,CACD,CAH6B,CAI9B,CAACF,QAAD,CAJ8B,CAAhC,CAOA,mBACE,KAAC,mBAAD,EAAqB,SAAS,CAAC,gBAA/B,uBACE,KAAC,MAAD,EACE,QAAQ,KADV,CAEE,SAAS,CAAC,gBAFZ,CAGE,KAAK,CAAEF,QAHT,CAIE,QAAQ,CAAEG,YAJZ,EADF,EADF,CAUD,CAnCkB,CAAnB","sourcesContent":["import React, { memo, useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Slider } from \"antd\";\n\nimport { changePlayerVolumeAction } from \"../../../store/actionCreators\";\n\nimport { PlayerVolumeWrapper } from \"./style\";\n\nexport default memo(function LJPlayerVolume() {\n  // redux hooks\n  const { volume } = useSelector((state) => ({\n    volume: state.getIn([\"player\", \"volume\"]),\n  }));\n\n  // 进度条\n  const [progress, setProgress] = useState(volume);\n\n  const dispatch = useDispatch();\n\n  // react hooks\n  // 初始化\n  useEffect(() => {\n    setProgress(volume * 100);\n  }, [volume]);\n\n  // 按下\n  const sliderChange = useCallback(\n    (value) => {\n      dispatch(changePlayerVolumeAction(value / 100));\n    },\n    [dispatch]\n  );\n\n  return (\n    <PlayerVolumeWrapper className=\"sprite_playbar\">\n      <Slider\n        vertical\n        className=\"sprite_playbar\"\n        value={progress}\n        onChange={sliderChange}\n      />\n    </PlayerVolumeWrapper>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}