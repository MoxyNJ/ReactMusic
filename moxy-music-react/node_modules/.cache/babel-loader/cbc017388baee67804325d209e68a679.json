{"ast":null,"code":"import * as actionTypes from \"./constants\";\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\nimport { getHotAlbums, getTopAlbums } from \"@/services/album.js\"; // 内部\n\nconst changeHotAlbumsAction = res => ({\n  type: actionTypes.CHANGE_HOT_ALBUMS,\n  hotAlbums: res.albums\n});\n\nconst changeTopAlbumAction = res => ({\n  type: actionTypes.CHANGE_TOP_ALBUMS,\n  topAlbums: res.albums\n});\n\nconst changeTopTotalAction = total => ({\n  type: actionTypes.CHANGE_TOP_TOTAL,\n  total: total\n});\n\nconst changeTopAreaAction = area => ({\n  type: actionTypes.CHANGE_TOP_AREA,\n  area: area\n}); // 异步action\n// 获得热门新碟数据\n\n\nexport const getHotAlbumsAction = () => {\n  return dispatch => {\n    getHotAlbums().then(res => {\n      dispatch(changeHotAlbumsAction(res));\n    });\n  };\n}; // 获得全部新碟数据\n// page - 1\n\nexport const getTopAlbumsAction = page => {\n  return (dispatch, getState) => {\n    // 获取 专辑地区\n    const area = getState().getIn([\"album\", \"topArea\"]);\n    getTopAlbums(area, 30, (page - 1) * PER_PAGE_NUMBER).then(res => {\n      dispatch(changeTopAlbumAction(res));\n      dispatch(changeTopTotalAction(res.total));\n    });\n  };\n};","map":{"version":3,"sources":["F:/ReactTea/moxy-music-react/src/pages/discover/c-pages/album/store/actionCreators.js"],"names":["actionTypes","PER_PAGE_NUMBER","getHotAlbums","getTopAlbums","changeHotAlbumsAction","res","type","CHANGE_HOT_ALBUMS","hotAlbums","albums","changeTopAlbumAction","CHANGE_TOP_ALBUMS","topAlbums","changeTopTotalAction","total","CHANGE_TOP_TOTAL","changeTopAreaAction","area","CHANGE_TOP_AREA","getHotAlbumsAction","dispatch","then","getTopAlbumsAction","page","getState","getIn"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,aAA7B;AACA,SAASC,eAAT,QAAgC,mBAAhC;AAEA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,qBAA3C,C,CAEA;;AACA,MAAMC,qBAAqB,GAAIC,GAAD,KAAU;AACtCC,EAAAA,IAAI,EAAEN,WAAW,CAACO,iBADoB;AAEtCC,EAAAA,SAAS,EAAEH,GAAG,CAACI;AAFuB,CAAV,CAA9B;;AAKA,MAAMC,oBAAoB,GAAIL,GAAD,KAAU;AACrCC,EAAAA,IAAI,EAAEN,WAAW,CAACW,iBADmB;AAErCC,EAAAA,SAAS,EAAEP,GAAG,CAACI;AAFsB,CAAV,CAA7B;;AAKA,MAAMI,oBAAoB,GAAIC,KAAD,KAAY;AACvCR,EAAAA,IAAI,EAAEN,WAAW,CAACe,gBADqB;AAEvCD,EAAAA,KAAK,EAAEA;AAFgC,CAAZ,CAA7B;;AAKA,MAAME,mBAAmB,GAAIC,IAAD,KAAW;AACrCX,EAAAA,IAAI,EAAEN,WAAW,CAACkB,eADmB;AAErCD,EAAAA,IAAI,EAAEA;AAF+B,CAAX,CAA5B,C,CAKA;AACA;;;AACA,OAAO,MAAME,kBAAkB,GAAG,MAAM;AACtC,SAAQC,QAAD,IAAc;AACnBlB,IAAAA,YAAY,GAAGmB,IAAf,CAAqBhB,GAAD,IAAS;AAC3Be,MAAAA,QAAQ,CAAChB,qBAAqB,CAACC,GAAD,CAAtB,CAAR;AACD,KAFD;AAGD,GAJD;AAKD,CANM,C,CAQP;AACA;;AACA,OAAO,MAAMiB,kBAAkB,GAAIC,IAAD,IAAU;AAC1C,SAAO,CAACH,QAAD,EAAWI,QAAX,KAAwB;AAC7B;AACA,UAAMP,IAAI,GAAGO,QAAQ,GAAGC,KAAX,CAAiB,CAAC,OAAD,EAAU,SAAV,CAAjB,CAAb;AAEAtB,IAAAA,YAAY,CAACc,IAAD,EAAO,EAAP,EAAW,CAACM,IAAI,GAAG,CAAR,IAAatB,eAAxB,CAAZ,CAAqDoB,IAArD,CAA2DhB,GAAD,IAAS;AACjEe,MAAAA,QAAQ,CAACV,oBAAoB,CAACL,GAAD,CAArB,CAAR;AACAe,MAAAA,QAAQ,CAACP,oBAAoB,CAACR,GAAG,CAACS,KAAL,CAArB,CAAR;AACD,KAHD;AAID,GARD;AASD,CAVM","sourcesContent":["import * as actionTypes from \"./constants\";\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\n\nimport { getHotAlbums, getTopAlbums } from \"@/services/album.js\";\n\n// 内部\nconst changeHotAlbumsAction = (res) => ({\n  type: actionTypes.CHANGE_HOT_ALBUMS,\n  hotAlbums: res.albums,\n});\n\nconst changeTopAlbumAction = (res) => ({\n  type: actionTypes.CHANGE_TOP_ALBUMS,\n  topAlbums: res.albums,\n});\n\nconst changeTopTotalAction = (total) => ({\n  type: actionTypes.CHANGE_TOP_TOTAL,\n  total: total,\n});\n\nconst changeTopAreaAction = (area) => ({\n  type: actionTypes.CHANGE_TOP_AREA,\n  area: area,\n});\n\n// 异步action\n// 获得热门新碟数据\nexport const getHotAlbumsAction = () => {\n  return (dispatch) => {\n    getHotAlbums().then((res) => {\n      dispatch(changeHotAlbumsAction(res));\n    });\n  };\n};\n\n// 获得全部新碟数据\n// page - 1\nexport const getTopAlbumsAction = (page) => {\n  return (dispatch, getState) => {\n    // 获取 专辑地区\n    const area = getState().getIn([\"album\", \"topArea\"]);\n\n    getTopAlbums(area, 30, (page - 1) * PER_PAGE_NUMBER).then((res) => {\n      dispatch(changeTopAlbumAction(res));\n      dispatch(changeTopTotalAction(res.total));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}