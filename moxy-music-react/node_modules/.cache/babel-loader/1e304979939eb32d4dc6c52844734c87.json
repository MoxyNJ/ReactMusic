{"ast":null,"code":"import _slicedToArray from\"/Users/moxy/ReactTea/moxy-music-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useEffect,useState}from\"react\";import{useDispatch,useSelector,shallowEqual}from\"react-redux\";import{PER_PAGE_NUMBER}from\"@/common/contants\";import{getTopAlbumsAction,changeTopAreaAction}from\"../../store/actionCreators\";import LJThemeHeader from\"@/components/theme-header\";import LJAlbumCover from\"@/components/album-cover\";import LJPagination from\"@/components/songs-pagination\";import{TopAlbumWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJAlbumTop(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useSelector=useSelector(function(state){return{topAlbums:state.getIn([\"album\",\"topAlbums\"]),total:state.getIn([\"album\",\"topTotal\"])};},shallowEqual),topAlbums=_useSelector.topAlbums,total=_useSelector.total;var dispatch=useDispatch();useEffect(function(){dispatch(getTopAlbumsAction(1));dispatch(changeTopAreaAction());},[dispatch]);var onPageChange=function onPageChange(page){setCurrentPage(page);dispatch(getTopAlbumsAction(page));};return/*#__PURE__*/_jsxs(TopAlbumWrapper,{children:[/*#__PURE__*/_jsx(LJThemeHeader,{title:\"\\u5168\\u90E8\\u65B0\\u789F\",subtitle:true}),/*#__PURE__*/_jsx(\"div\",{className:\"album-list\",children:topAlbums.map(function(item,index){return/*#__PURE__*/_jsx(LJAlbumCover,{size:130,width:153,height:153,bgp:-845,elemSize:\"big\",info:item},item.id);})}),/*#__PURE__*/_jsx(LJPagination,{currentPage:currentPage,total:total,pageSize:PER_PAGE_NUMBER,onPageChange:onPageChange})]});});","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/discover/c-pages/album/c-cpns/album-top/index.js"],"names":["React","memo","useEffect","useState","useDispatch","useSelector","shallowEqual","PER_PAGE_NUMBER","getTopAlbumsAction","changeTopAreaAction","LJThemeHeader","LJAlbumCover","LJPagination","TopAlbumWrapper","LJAlbumTop","currentPage","setCurrentPage","state","topAlbums","getIn","total","dispatch","onPageChange","page","map","item","index","id"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,YAAnC,KAAuD,aAAvD,CAEA,OAASC,eAAT,KAAgC,mBAAhC,CACA,OACEC,kBADF,CAEEC,mBAFF,KAGO,4BAHP,CAKA,MAAOC,CAAAA,aAAP,KAA0B,2BAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,OAASC,eAAT,KAAgC,SAAhC,C,wFAEA,2BAAeZ,IAAI,CAAC,QAASa,CAAAA,UAAT,EAAsB,eACFX,QAAQ,CAAC,CAAD,CADN,wCACjCY,WADiC,eACpBC,cADoB,gCAGXX,WAAW,CACtC,SAACY,KAAD,QAAY,CACVC,SAAS,CAAED,KAAK,CAACE,KAAN,CAAY,CAAC,OAAD,CAAU,WAAV,CAAZ,CADD,CAEVC,KAAK,CAAEH,KAAK,CAACE,KAAN,CAAY,CAAC,OAAD,CAAU,UAAV,CAAZ,CAFG,CAAZ,EADsC,CAKtCb,YALsC,CAHA,CAGhCY,SAHgC,cAGhCA,SAHgC,CAGrBE,KAHqB,cAGrBA,KAHqB,CAUxC,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAACb,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAa,QAAQ,CAACZ,mBAAmB,EAApB,CAAR,CACD,CAHQ,CAGN,CAACY,QAAD,CAHM,CAAT,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAU,CAC7BP,cAAc,CAACO,IAAD,CAAd,CACAF,QAAQ,CAACb,kBAAkB,CAACe,IAAD,CAAnB,CAAR,CACD,CAHD,CAKA,mBACE,MAAC,eAAD,yBACE,KAAC,aAAD,EAAe,KAAK,CAAC,0BAArB,CAA4B,QAAQ,CAAE,IAAtC,EADF,cAEE,YAAK,SAAS,CAAC,YAAf,UACGL,SAAS,CAACM,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC9B,mBACE,KAAC,YAAD,EACE,IAAI,CAAE,GADR,CAEE,KAAK,CAAE,GAFT,CAGE,MAAM,CAAE,GAHV,CAIE,GAAG,CAAE,CAAC,GAJR,CAKE,QAAQ,CAAE,KALZ,CAOE,IAAI,CAAED,IAPR,EAMOA,IAAI,CAACE,EANZ,CADF,CAWD,CAZA,CADH,EAFF,cAiBE,KAAC,YAAD,EACE,WAAW,CAAEZ,WADf,CAEE,KAAK,CAAEK,KAFT,CAGE,QAAQ,CAAEb,eAHZ,CAIE,YAAY,CAAEe,YAJhB,EAjBF,GADF,CA0BD,CAhDkB,CAAnB","sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\n\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\nimport {\n  getTopAlbumsAction,\n  changeTopAreaAction,\n} from \"../../store/actionCreators\";\n\nimport LJThemeHeader from \"@/components/theme-header\";\nimport LJAlbumCover from \"@/components/album-cover\";\nimport LJPagination from \"@/components/songs-pagination\";\nimport { TopAlbumWrapper } from \"./style\";\n\nexport default memo(function LJAlbumTop() {\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const { topAlbums, total } = useSelector(\n    (state) => ({\n      topAlbums: state.getIn([\"album\", \"topAlbums\"]),\n      total: state.getIn([\"album\", \"topTotal\"]),\n    }),\n    shallowEqual\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getTopAlbumsAction(1));\n    dispatch(changeTopAreaAction());\n  }, [dispatch]);\n\n  const onPageChange = (page) => {\n    setCurrentPage(page);\n    dispatch(getTopAlbumsAction(page));\n  };\n\n  return (\n    <TopAlbumWrapper>\n      <LJThemeHeader title=\"全部新碟\" subtitle={true} />\n      <div className=\"album-list\">\n        {topAlbums.map((item, index) => {\n          return (\n            <LJAlbumCover\n              size={130}\n              width={153}\n              height={153}\n              bgp={-845}\n              elemSize={\"big\"}\n              key={item.id}\n              info={item}\n            />\n          );\n        })}\n      </div>\n      <LJPagination\n        currentPage={currentPage}\n        total={total}\n        pageSize={PER_PAGE_NUMBER}\n        onPageChange={onPageChange}\n      />\n    </TopAlbumWrapper>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}