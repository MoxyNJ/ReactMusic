{"ast":null,"code":"import*as actionTypes from\"./constants\";import{PER_PAGE_NUMBER}from\"@/common/contants\";import{getSongCategoryList,getSongCategory}from\"@/services/songList\";import{handleSongsCategory}from\"@/utils/handle-data\";// 不暴露，内部action\nvar changeCategoryAction=function changeCategoryAction(cate){return{type:actionTypes.CHANGE_CATEGORY,category:cate};};var changeSongListAction=function changeSongListAction(list){return{type:actionTypes.CHANGE_SONG_LIST,songList:list};};// 暴露，异步action\n// 当前展示的歌单类名\nexport var changeCurrentCategoryAction=function changeCurrentCategoryAction(name){return{type:actionTypes.CHANGE_CURRENT_CATEGORY,currentCategory:name};};// 全部歌单类名\nexport var getSongCategoryAction=function getSongCategoryAction(){return function(dispatch){getSongCategory().then(function(res){dispatch(changeCategoryAction(handleSongsCategory(res)));});};};// 当前展示的歌单内容\nexport var getSongCategoryListAction=function getSongCategoryListAction(page){return function(dispatch,getState){// 获取歌单类名 currentCategory\nvar name=getState().getIn([\"songList\",\"currentCategory\"]);getSongCategoryList(name,page*PER_PAGE_NUMBER).then(function(res){dispatch(changeSongListAction(res));});};};","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/discover/c-pages/songList/store/actionCreators.js"],"names":["actionTypes","PER_PAGE_NUMBER","getSongCategoryList","getSongCategory","handleSongsCategory","changeCategoryAction","cate","type","CHANGE_CATEGORY","category","changeSongListAction","list","CHANGE_SONG_LIST","songList","changeCurrentCategoryAction","name","CHANGE_CURRENT_CATEGORY","currentCategory","getSongCategoryAction","dispatch","then","res","getSongCategoryListAction","page","getState","getIn"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,aAA7B,CACA,OAASC,eAAT,KAAgC,mBAAhC,CAEA,OAASC,mBAAT,CAA8BC,eAA9B,KAAqD,qBAArD,CACA,OAASC,mBAAT,KAAoC,qBAApC,CACA;AACA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,IAAD,QAAW,CACtCC,IAAI,CAAEP,WAAW,CAACQ,eADoB,CAEtCC,QAAQ,CAAEH,IAF4B,CAAX,EAA7B,CAKA,GAAMI,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,IAAD,QAAW,CACtCJ,IAAI,CAAEP,WAAW,CAACY,gBADoB,CAEtCC,QAAQ,CAAEF,IAF4B,CAAX,EAA7B,CAKA;AACA;AACA,MAAO,IAAMG,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,CAACC,IAAD,QAAW,CACpDR,IAAI,CAAEP,WAAW,CAACgB,uBADkC,CAEpDC,eAAe,CAAEF,IAFmC,CAAX,EAApC,CAKP;AACA,MAAO,IAAMG,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CACzC,MAAO,UAACC,QAAD,CAAc,CACnBhB,eAAe,GAAGiB,IAAlB,CAAuB,SAACC,GAAD,CAAS,CAC9BF,QAAQ,CAACd,oBAAoB,CAACD,mBAAmB,CAACiB,GAAD,CAApB,CAArB,CAAR,CACD,CAFD,EAGD,CAJD,CAKD,CANM,CAQP;AACA,MAAO,IAAMC,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAACC,IAAD,CAAU,CACjD,MAAO,UAACJ,QAAD,CAAWK,QAAX,CAAwB,CAC7B;AACA,GAAMT,CAAAA,IAAI,CAAGS,QAAQ,GAAGC,KAAX,CAAiB,CAAC,UAAD,CAAa,iBAAb,CAAjB,CAAb,CAEAvB,mBAAmB,CAACa,IAAD,CAAOQ,IAAI,CAAGtB,eAAd,CAAnB,CAAkDmB,IAAlD,CAAuD,SAACC,GAAD,CAAS,CAC9DF,QAAQ,CAACT,oBAAoB,CAACW,GAAD,CAArB,CAAR,CACD,CAFD,EAGD,CAPD,CAQD,CATM","sourcesContent":["import * as actionTypes from \"./constants\";\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\n\nimport { getSongCategoryList, getSongCategory } from \"@/services/songList\";\nimport { handleSongsCategory } from \"@/utils/handle-data\";\n// 不暴露，内部action\nconst changeCategoryAction = (cate) => ({\n  type: actionTypes.CHANGE_CATEGORY,\n  category: cate,\n});\n\nconst changeSongListAction = (list) => ({\n  type: actionTypes.CHANGE_SONG_LIST,\n  songList: list,\n});\n\n// 暴露，异步action\n// 当前展示的歌单类名\nexport const changeCurrentCategoryAction = (name) => ({\n  type: actionTypes.CHANGE_CURRENT_CATEGORY,\n  currentCategory: name,\n});\n\n// 全部歌单类名\nexport const getSongCategoryAction = () => {\n  return (dispatch) => {\n    getSongCategory().then((res) => {\n      dispatch(changeCategoryAction(handleSongsCategory(res)));\n    });\n  };\n};\n\n// 当前展示的歌单内容\nexport const getSongCategoryListAction = (page) => {\n  return (dispatch, getState) => {\n    // 获取歌单类名 currentCategory\n    const name = getState().getIn([\"songList\", \"currentCategory\"]);\n\n    getSongCategoryList(name, page * PER_PAGE_NUMBER).then((res) => {\n      dispatch(changeSongListAction(res));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}