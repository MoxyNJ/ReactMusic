{"ast":null,"code":"import { getDjRadioCatelist, getDjRadioRecommend, getDjRadios } from \"@/services/djradio\";\nimport * as actionTypes from \"./constants\"; // 电台类目\n\nconst changeCategoryAction = res => ({\n  type: actionTypes.CHANGE_RADIO_CATEGORY,\n  categories: res.categories\n}); // 优秀新电台 - 推荐\n\n\nconst changeRecommendsAction = res => ({\n  type: actionTypes.CHANGE_RECOMMENDS,\n  recommends: res.djRadios\n}); // 电台排行榜\n\n\nconst changeRadiosAction = res => ({\n  type: actionTypes.CHANGE_RADIOS,\n  radios: res.djRadios\n}); // 当前类名\n\n\nexport const changeCurrentIdAction = id => ({\n  type: actionTypes.CHANGE_CURRENT_ID,\n  currentId: id\n}); // 1 电台全部类目\n\nexport const getRadioCategories = () => {\n  return dispatch => {\n    getDjRadioCatelist().then(res => {\n      // 暂时额外再加两个假数据\n      const categories = res.categories;\n      const add1 = { ...categories[categories.length - 2]\n      };\n      const add2 = { ...categories[categories.length - 1]\n      };\n      add1.name = \"常见问题\";\n      add1.picWebUrl = \"https://music.163.com/style/web2/img/index_radio/radio_faq.png\";\n      add2.name = \"我要做主播\";\n      add2.picWebUrl = \"https://music.163.com/style/web2/img/index_radio/radio_apply.png\";\n      res.categories.push(add1, add2); // 添加两个数据后，再正常的派发\n\n      dispatch(changeCategoryAction(res));\n      const currentId = res.categories[0].id;\n      dispatch(changeCurrentIdAction(currentId));\n    });\n  };\n}; // 2 电台推荐、优秀新电台\n\nexport const getRadioRecommend = currentId => {\n  return dispatch => {\n    getDjRadioRecommend(currentId).then(res => {\n      dispatch(changeRecommendsAction(res));\n    });\n  };\n}; // 3 电台排行榜、全部内容\n\nexport const getRadios = (currentId, offset) => {\n  return dispatch => {\n    getDjRadios(currentId, 30, offset).then(res => {\n      dispatch(changeRadiosAction(res));\n    });\n  };\n};","map":{"version":3,"sources":["F:/ReactTea/moxy-music-react/src/pages/discover/c-pages/djradio/store/actionCreators.js"],"names":["getDjRadioCatelist","getDjRadioRecommend","getDjRadios","actionTypes","changeCategoryAction","res","type","CHANGE_RADIO_CATEGORY","categories","changeRecommendsAction","CHANGE_RECOMMENDS","recommends","djRadios","changeRadiosAction","CHANGE_RADIOS","radios","changeCurrentIdAction","id","CHANGE_CURRENT_ID","currentId","getRadioCategories","dispatch","then","add1","length","add2","name","picWebUrl","push","getRadioRecommend","getRadios","offset"],"mappings":"AAAA,SACEA,kBADF,EAEEC,mBAFF,EAGEC,WAHF,QAIO,oBAJP;AAKA,OAAO,KAAKC,WAAZ,MAA6B,aAA7B,C,CAEA;;AACA,MAAMC,oBAAoB,GAAIC,GAAD,KAAU;AACrCC,EAAAA,IAAI,EAAEH,WAAW,CAACI,qBADmB;AAErCC,EAAAA,UAAU,EAAEH,GAAG,CAACG;AAFqB,CAAV,CAA7B,C,CAKA;;;AACA,MAAMC,sBAAsB,GAAIJ,GAAD,KAAU;AACvCC,EAAAA,IAAI,EAAEH,WAAW,CAACO,iBADqB;AAEvCC,EAAAA,UAAU,EAAEN,GAAG,CAACO;AAFuB,CAAV,CAA/B,C,CAKA;;;AACA,MAAMC,kBAAkB,GAAIR,GAAD,KAAU;AACnCC,EAAAA,IAAI,EAAEH,WAAW,CAACW,aADiB;AAEnCC,EAAAA,MAAM,EAAEV,GAAG,CAACO;AAFuB,CAAV,CAA3B,C,CAKA;;;AACA,OAAO,MAAMI,qBAAqB,GAAIC,EAAD,KAAS;AAC5CX,EAAAA,IAAI,EAAEH,WAAW,CAACe,iBAD0B;AAE5CC,EAAAA,SAAS,EAAEF;AAFiC,CAAT,CAA9B,C,CAKP;;AACA,OAAO,MAAMG,kBAAkB,GAAG,MAAM;AACtC,SAAQC,QAAD,IAAc;AACnBrB,IAAAA,kBAAkB,GAAGsB,IAArB,CAA2BjB,GAAD,IAAS;AACjC;AACA,YAAMG,UAAU,GAAGH,GAAG,CAACG,UAAvB;AACA,YAAMe,IAAI,GAAG,EAAE,GAAGf,UAAU,CAACA,UAAU,CAACgB,MAAX,GAAoB,CAArB;AAAf,OAAb;AACA,YAAMC,IAAI,GAAG,EAAE,GAAGjB,UAAU,CAACA,UAAU,CAACgB,MAAX,GAAoB,CAArB;AAAf,OAAb;AAEAD,MAAAA,IAAI,CAACG,IAAL,GAAY,MAAZ;AACAH,MAAAA,IAAI,CAACI,SAAL,GACE,gEADF;AAEAF,MAAAA,IAAI,CAACC,IAAL,GAAY,OAAZ;AACAD,MAAAA,IAAI,CAACE,SAAL,GACE,kEADF;AAGAtB,MAAAA,GAAG,CAACG,UAAJ,CAAeoB,IAAf,CAAoBL,IAApB,EAA0BE,IAA1B,EAbiC,CAcjC;;AACAJ,MAAAA,QAAQ,CAACjB,oBAAoB,CAACC,GAAD,CAArB,CAAR;AACA,YAAMc,SAAS,GAAGd,GAAG,CAACG,UAAJ,CAAe,CAAf,EAAkBS,EAApC;AACAI,MAAAA,QAAQ,CAACL,qBAAqB,CAACG,SAAD,CAAtB,CAAR;AACD,KAlBD;AAmBD,GApBD;AAqBD,CAtBM,C,CAwBP;;AACA,OAAO,MAAMU,iBAAiB,GAAIV,SAAD,IAAe;AAC9C,SAAQE,QAAD,IAAc;AACnBpB,IAAAA,mBAAmB,CAACkB,SAAD,CAAnB,CAA+BG,IAA/B,CAAqCjB,GAAD,IAAS;AAC3CgB,MAAAA,QAAQ,CAACZ,sBAAsB,CAACJ,GAAD,CAAvB,CAAR;AACD,KAFD;AAGD,GAJD;AAKD,CANM,C,CAQP;;AACA,OAAO,MAAMyB,SAAS,GAAG,CAACX,SAAD,EAAYY,MAAZ,KAAuB;AAC9C,SAAQV,QAAD,IAAc;AACnBnB,IAAAA,WAAW,CAACiB,SAAD,EAAY,EAAZ,EAAgBY,MAAhB,CAAX,CAAmCT,IAAnC,CAAyCjB,GAAD,IAAS;AAC/CgB,MAAAA,QAAQ,CAACR,kBAAkB,CAACR,GAAD,CAAnB,CAAR;AACD,KAFD;AAGD,GAJD;AAKD,CANM","sourcesContent":["import {\n  getDjRadioCatelist,\n  getDjRadioRecommend,\n  getDjRadios,\n} from \"@/services/djradio\";\nimport * as actionTypes from \"./constants\";\n\n// 电台类目\nconst changeCategoryAction = (res) => ({\n  type: actionTypes.CHANGE_RADIO_CATEGORY,\n  categories: res.categories,\n});\n\n// 优秀新电台 - 推荐\nconst changeRecommendsAction = (res) => ({\n  type: actionTypes.CHANGE_RECOMMENDS,\n  recommends: res.djRadios,\n});\n\n// 电台排行榜\nconst changeRadiosAction = (res) => ({\n  type: actionTypes.CHANGE_RADIOS,\n  radios: res.djRadios,\n});\n\n// 当前类名\nexport const changeCurrentIdAction = (id) => ({\n  type: actionTypes.CHANGE_CURRENT_ID,\n  currentId: id,\n});\n\n// 1 电台全部类目\nexport const getRadioCategories = () => {\n  return (dispatch) => {\n    getDjRadioCatelist().then((res) => {\n      // 暂时额外再加两个假数据\n      const categories = res.categories;\n      const add1 = { ...categories[categories.length - 2] };\n      const add2 = { ...categories[categories.length - 1] };\n\n      add1.name = \"常见问题\";\n      add1.picWebUrl =\n        \"https://music.163.com/style/web2/img/index_radio/radio_faq.png\";\n      add2.name = \"我要做主播\";\n      add2.picWebUrl =\n        \"https://music.163.com/style/web2/img/index_radio/radio_apply.png\";\n\n      res.categories.push(add1, add2);\n      // 添加两个数据后，再正常的派发\n      dispatch(changeCategoryAction(res));\n      const currentId = res.categories[0].id;\n      dispatch(changeCurrentIdAction(currentId));\n    });\n  };\n};\n\n// 2 电台推荐、优秀新电台\nexport const getRadioRecommend = (currentId) => {\n  return (dispatch) => {\n    getDjRadioRecommend(currentId).then((res) => {\n      dispatch(changeRecommendsAction(res));\n    });\n  };\n};\n\n// 3 电台排行榜、全部内容\nexport const getRadios = (currentId, offset) => {\n  return (dispatch) => {\n    getDjRadios(currentId, 30, offset).then((res) => {\n      dispatch(changeRadiosAction(res));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}