{"ast":null,"code":"import React,{memo}from\"react\";import{useDispatch}from\"react-redux\";import{getSizeImage}from\"@/utils/format-utils\";import{getSongDetailAction}from\"@/pages/player/store/index\";import{TopRankingWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJTopRanking(props){// props and state\nvar _props$info=props.info,info=_props$info===void 0?[]:_props$info;// 如果第一次加载，info尚未下载完成，是 undefined 无法访问 info.tracks\n// 初始化为 []\nvar _info$tracks=info.tracks,tracks=_info$tracks===void 0?[]:_info$tracks;// redux hooks\nvar dispatch=useDispatch();// react hooks\n// other handle\nvar playMusic=function playMusic(item){dispatch(getSongDetailAction(item.id));};return/*#__PURE__*/_jsxs(TopRankingWrapper,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image\",children:[/*#__PURE__*/_jsx(\"img\",{src:getSizeImage(info.coverImgUrl,100),alt:\"\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/todo\",className:\"image_cover\",children:\"ranking\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/todo\",children:info.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn play sprite_02\",children:\"123\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn favor sprite_02\",children:\"123\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:tracks.slice(0,10).map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"list-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rank\",children:index+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name text-nowrap\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"operate\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn play sprite_02\",onClick:function onClick(e){return playMusic(item);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn addto sprite_icon2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn favor sprite_02\"})]})]})]},item.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/todo\",children:[\"\\u67E5\\u770B\\u5168\\u90E8\",\">\"]})})]});});","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/components/top-ranking/index.js"],"names":["React","memo","useDispatch","getSizeImage","getSongDetailAction","TopRankingWrapper","LJTopRanking","props","info","tracks","dispatch","playMusic","item","id","coverImgUrl","name","slice","map","index","e"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,KAA4B,OAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,OAASC,YAAT,KAA6B,sBAA7B,CACA,OAASC,mBAAT,KAAoC,4BAApC,CAEA,OAASC,iBAAT,KAAkC,SAAlC,C,wFAEA,2BAAeJ,IAAI,CAAC,QAASK,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC/C;AAD+C,gBAEzBA,KAFyB,CAEvCC,IAFuC,CAEvCA,IAFuC,sBAEhC,EAFgC,aAG/C;AACA;AAJ+C,iBAKvBA,IALuB,CAKvCC,MALuC,CAKvCA,MALuC,uBAK9B,EAL8B,cAO/C;AACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA;AAEA;AACA,GAAMS,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,IAAD,CAAU,CAC1BF,QAAQ,CAACN,mBAAmB,CAACQ,IAAI,CAACC,EAAN,CAApB,CAAR,CACD,CAFD,CAIA,mBACE,MAAC,iBAAD,yBACE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,GAAG,CAAEV,YAAY,CAACK,IAAI,CAACM,WAAN,CAAmB,GAAnB,CAAtB,CAA+C,GAAG,CAAC,EAAnD,EADF,cAEE,UAAG,IAAI,CAAC,OAAR,CAAgB,SAAS,CAAC,aAA1B,qBAFF,GADF,cAOE,aAAK,SAAS,CAAC,MAAf,wBACE,UAAG,IAAI,CAAC,OAAR,UAAiBN,IAAI,CAACO,IAAtB,EADF,cAEE,oCACE,eAAQ,SAAS,CAAC,oBAAlB,iBADF,cAEE,eAAQ,SAAS,CAAC,qBAAlB,iBAFF,GAFF,GAPF,GADF,cAgBE,YAAK,SAAS,CAAC,MAAf,UACGN,MAAM,CAACO,KAAP,CAAa,CAAb,CAAgB,EAAhB,EAAoBC,GAApB,CAAwB,SAACL,IAAD,CAAOM,KAAP,CAAiB,CACxC,mBACE,aAAmB,SAAS,CAAC,WAA7B,wBACE,YAAK,SAAS,CAAC,MAAf,UAAuBA,KAAK,CAAG,CAA/B,EADF,cAEE,aAAK,SAAS,CAAC,MAAf,wBACE,aAAM,SAAS,CAAC,kBAAhB,UAAoCN,IAAI,CAACG,IAAzC,EADF,cAEE,aAAK,SAAS,CAAC,SAAf,wBACE,eACE,SAAS,CAAC,oBADZ,CAEE,OAAO,CAAE,iBAACI,CAAD,QAAOR,CAAAA,SAAS,CAACC,IAAD,CAAhB,EAFX,EADF,cAKE,eAAQ,SAAS,CAAC,wBAAlB,EALF,cAME,eAAQ,SAAS,CAAC,qBAAlB,EANF,GAFF,GAFF,GAAUA,IAAI,CAACC,EAAf,CADF,CAgBD,CAjBA,CADH,EAhBF,cAoCE,YAAK,SAAS,CAAC,QAAf,uBACE,WAAG,IAAI,CAAC,OAAR,sCAAqB,GAArB,GADF,EApCF,GADF,CA0CD,CA3DkB,CAAnB","sourcesContent":["import React, { memo } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport { getSizeImage } from \"@/utils/format-utils\";\nimport { getSongDetailAction } from \"@/pages/player/store/index\";\n\nimport { TopRankingWrapper } from \"./style\";\n\nexport default memo(function LJTopRanking(props) {\n  // props and state\n  const { info = [] } = props;\n  // 如果第一次加载，info尚未下载完成，是 undefined 无法访问 info.tracks\n  // 初始化为 []\n  const { tracks = [] } = info;\n\n  // redux hooks\n  const dispatch = useDispatch();\n\n  // react hooks\n\n  // other handle\n  const playMusic = (item) => {\n    dispatch(getSongDetailAction(item.id));\n  };\n\n  return (\n    <TopRankingWrapper>\n      <div className=\"header\">\n        <div className=\"image\">\n          <img src={getSizeImage(info.coverImgUrl, 100)} alt=\"\" />\n          <a href=\"/todo\" className=\"image_cover\">\n            ranking\n          </a>\n        </div>\n        <div className=\"info\">\n          <a href=\"/todo\">{info.name}</a>\n          <div>\n            <button className=\"btn play sprite_02\">123</button>\n            <button className=\"btn favor sprite_02\">123</button>\n          </div>\n        </div>\n      </div>\n      <div className=\"list\">\n        {tracks.slice(0, 10).map((item, index) => {\n          return (\n            <div key={item.id} className=\"list-item\">\n              <div className=\"rank\">{index + 1}</div>\n              <div className=\"info\">\n                <span className=\"name text-nowrap\">{item.name}</span>\n                <div className=\"operate\">\n                  <button\n                    className=\"btn play sprite_02\"\n                    onClick={(e) => playMusic(item)}\n                  ></button>\n                  <button className=\"btn addto sprite_icon2\"></button>\n                  <button className=\"btn favor sprite_02\"></button>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      <div className=\"footer\">\n        <a href=\"/todo\">查看全部{\">\"}</a>\n      </div>\n    </TopRankingWrapper>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}