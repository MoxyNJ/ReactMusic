{"ast":null,"code":"import React,{memo,useEffect,useRef}from\"react\";import{shallowEqual,useSelector}from\"react-redux\";import classNames from\"classnames\";import{scrollTo}from\"@/utils/ui-helper\";import{PlayerLyricWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJPlayerLyric(){// redux hooks\nvar _useSelector=useSelector(function(state){return{lyricList:state.getIn([\"player\",\"lyricList\"]),currentLyricIndex:state.getIn([\"player\",\"currentLyricIndex\"])};},shallowEqual),lyricList=_useSelector.lyricList,currentLyricIndex=_useSelector.currentLyricIndex;// react hooks\nvar lyricRef=useRef();useEffect(function(){if(currentLyricIndex>0&&currentLyricIndex<3)return;scrollTo(lyricRef.current,(currentLyricIndex-3)*32,300);},[currentLyricIndex]);return/*#__PURE__*/_jsx(PlayerLyricWrapper,{ref:lyricRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"lrc-content\",children:lyricList.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:classNames(\"lrc-item\",{active:index===currentLyricIndex}),children:item.content},item.time);})})});});","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/player/app-player-bar/c-cpns/app-player-panel/c-cnps/player-lyric/index.js"],"names":["React","memo","useEffect","useRef","shallowEqual","useSelector","classNames","scrollTo","PlayerLyricWrapper","LJPlayerLyric","state","lyricList","getIn","currentLyricIndex","lyricRef","current","map","item","index","active","content","time"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAsBC,SAAtB,CAAiCC,MAAjC,KAA+C,OAA/C,CACA,OAASC,YAAT,CAAuBC,WAAvB,KAA0C,aAA1C,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CAEA,OAASC,QAAT,KAAyB,mBAAzB,CAEA,OAASC,kBAAT,KAAmC,SAAnC,C,2CAEA,2BAAeP,IAAI,CAAC,QAASQ,CAAAA,aAAT,EAAyB,CAC3C;AAD2C,iBAEFJ,WAAW,CAClD,SAACK,KAAD,QAAY,CACVC,SAAS,CAAED,KAAK,CAACE,KAAN,CAAY,CAAC,QAAD,CAAW,WAAX,CAAZ,CADD,CAEVC,iBAAiB,CAAEH,KAAK,CAACE,KAAN,CAAY,CAAC,QAAD,CAAW,mBAAX,CAAZ,CAFT,CAAZ,EADkD,CAKlDR,YALkD,CAFT,CAEnCO,SAFmC,cAEnCA,SAFmC,CAExBE,iBAFwB,cAExBA,iBAFwB,CAU3C;AACA,GAAMC,CAAAA,QAAQ,CAAGX,MAAM,EAAvB,CACAD,SAAS,CAAC,UAAM,CACd,GAAIW,iBAAiB,CAAG,CAApB,EAAyBA,iBAAiB,CAAG,CAAjD,CAAoD,OACpDN,QAAQ,CAACO,QAAQ,CAACC,OAAV,CAAmB,CAACF,iBAAiB,CAAG,CAArB,EAA0B,EAA7C,CAAiD,GAAjD,CAAR,CACD,CAHQ,CAGN,CAACA,iBAAD,CAHM,CAAT,CAKA,mBACE,KAAC,kBAAD,EAAoB,GAAG,CAAEC,QAAzB,uBACE,YAAK,SAAS,CAAC,aAAf,UACGH,SAAS,CAACK,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC9B,mBACE,YAEE,SAAS,CAAEZ,UAAU,CAAC,UAAD,CAAa,CAChCa,MAAM,CAAED,KAAK,GAAKL,iBADc,CAAb,CAFvB,UAMGI,IAAI,CAACG,OANR,EACOH,IAAI,CAACI,IADZ,CADF,CAUD,CAXA,CADH,EADF,EADF,CAkBD,CAnCkB,CAAnB","sourcesContent":["import React, { memo, useEffect, useRef } from \"react\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport classNames from \"classnames\";\n\nimport { scrollTo } from \"@/utils/ui-helper\";\n\nimport { PlayerLyricWrapper } from \"./style\";\n\nexport default memo(function LJPlayerLyric() {\n  // redux hooks\n  const { lyricList, currentLyricIndex } = useSelector(\n    (state) => ({\n      lyricList: state.getIn([\"player\", \"lyricList\"]),\n      currentLyricIndex: state.getIn([\"player\", \"currentLyricIndex\"]),\n    }),\n    shallowEqual\n  );\n\n  // react hooks\n  const lyricRef = useRef();\n  useEffect(() => {\n    if (currentLyricIndex > 0 && currentLyricIndex < 3) return;\n    scrollTo(lyricRef.current, (currentLyricIndex - 3) * 32, 300);\n  }, [currentLyricIndex]);\n\n  return (\n    <PlayerLyricWrapper ref={lyricRef}>\n      <div className=\"lrc-content\">\n        {lyricList.map((item, index) => {\n          return (\n            <div\n              key={item.time}\n              className={classNames(\"lrc-item\", {\n                active: index === currentLyricIndex,\n              })}\n            >\n              {item.content}\n            </div>\n          );\n        })}\n      </div>\n    </PlayerLyricWrapper>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}