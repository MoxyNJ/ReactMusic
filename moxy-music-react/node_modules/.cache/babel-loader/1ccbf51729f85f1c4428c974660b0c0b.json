{"ast":null,"code":"import React,{memo,useEffect,useRef}from\"react\";import{useSelector,useDispatch,shallowEqual}from\"react-redux\";import{Carousel}from\"antd\";import{NEW_ALBUMS_LIMIT}from\"@/common/contants\";import{getNewAlbumsAction}from\"../../store/actionCreators\";import LJThemeHeaderRCM from\"@/components/theme-header-rcm\";import LJAlbumCover from\"@/components/album-cover\";import{AlbumWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJNewAlbum(){// component state：组件内部的state\n// redux hooks：获取state和dispatch\nvar _useSelector=useSelector(function(state){return{newAlbums:state.getIn([\"recommend\",\"newAlbums\"])};},shallowEqual),newAlbums=_useSelector.newAlbums;var dispatch=useDispatch();// other hooks：react的hooks\nvar pageRef=useRef(0);useEffect(function(){dispatch(getNewAlbumsAction(NEW_ALBUMS_LIMIT));},[dispatch]);// other function：组件内部的其他逻辑\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(AlbumWrapper,{children:[/*#__PURE__*/_jsx(LJThemeHeaderRCM,{title:\"\\u65B0\\u789F\\u4E0A\\u67B6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"arrow arrow-left sprite_02\",onClick:function onClick(e){return pageRef.current.prev();}}),/*#__PURE__*/_jsx(\"div\",{className:\"album\",children:/*#__PURE__*/_jsx(Carousel,{dots:false,ref:pageRef,children:[0,1].map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:newAlbums.slice(item*5,(item+1)*5).map(function(num){return/*#__PURE__*/_jsx(LJAlbumCover,{info:num,size:100,width:118,bgp:-570,play:-85,children:num.name},num.id);})},item);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"arrow arrow-right sprite_02\",onClick:function onClick(e){pageRef.current.next();}})]})]})});});","map":{"version":3,"sources":["F:/ReactTea/moxy-music-react/src/pages/discover/c-pages/recommend/c-cpns/new-album/index.js"],"names":["React","memo","useEffect","useRef","useSelector","useDispatch","shallowEqual","Carousel","NEW_ALBUMS_LIMIT","getNewAlbumsAction","LJThemeHeaderRCM","LJAlbumCover","AlbumWrapper","LJNewAlbum","state","newAlbums","getIn","dispatch","pageRef","e","current","prev","map","item","slice","num","name","id","next"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAsBC,SAAtB,CAAiCC,MAAjC,KAA+C,OAA/C,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,YAAnC,KAAuD,aAAvD,CAEA,OAASC,QAAT,KAAyB,MAAzB,CACA,OAASC,gBAAT,KAAiC,mBAAjC,CACA,OAASC,kBAAT,KAAmC,4BAAnC,CAEA,MAAOC,CAAAA,gBAAP,KAA6B,+BAA7B,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CACA,OAASC,YAAT,KAA6B,SAA7B,C,wFAEA,2BAAeX,IAAI,CAAC,QAASY,CAAAA,UAAT,EAAsB,CACxC;AAEA;AAHwC,iBAIlBT,WAAW,CAC/B,SAACU,KAAD,QAAY,CACVC,SAAS,CAAED,KAAK,CAACE,KAAN,CAAY,CAAC,WAAD,CAAc,WAAd,CAAZ,CADD,CAAZ,EAD+B,CAI/BV,YAJ+B,CAJO,CAIhCS,SAJgC,cAIhCA,SAJgC,CAWxC,GAAME,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA;AACA,GAAMa,CAAAA,OAAO,CAAGf,MAAM,CAAC,CAAD,CAAtB,CAEAD,SAAS,CAAC,UAAM,CACde,QAAQ,CAACR,kBAAkB,CAACD,gBAAD,CAAnB,CAAR,CACD,CAFQ,CAEN,CAACS,QAAD,CAFM,CAAT,CAGA;AAEA,mBACE,kCACE,MAAC,YAAD,yBACE,KAAC,gBAAD,EAAkB,KAAK,CAAC,0BAAxB,EADF,cAEE,aAAK,SAAS,CAAC,SAAf,wBACE,eACE,SAAS,CAAC,4BADZ,CAEE,OAAO,CAAE,iBAACE,CAAD,QAAOD,CAAAA,OAAO,CAACE,OAAR,CAAgBC,IAAhB,EAAP,EAFX,EADF,cAKE,YAAK,SAAS,CAAC,OAAf,uBACE,KAAC,QAAD,EAAU,IAAI,CAAE,KAAhB,CAAuB,GAAG,CAAEH,OAA5B,UACG,CAAC,CAAD,CAAI,CAAJ,EAAOI,GAAP,CAAW,SAACC,IAAD,CAAU,CACpB,mBACE,YAAgB,SAAS,CAAC,MAA1B,UACGR,SAAS,CAACS,KAAV,CAAgBD,IAAI,CAAG,CAAvB,CAA0B,CAACA,IAAI,CAAG,CAAR,EAAa,CAAvC,EAA0CD,GAA1C,CAA8C,SAACG,GAAD,CAAS,CACtD,mBACE,KAAC,YAAD,EAEE,IAAI,CAAEA,GAFR,CAGE,IAAI,CAAE,GAHR,CAIE,KAAK,CAAE,GAJT,CAKE,GAAG,CAAE,CAAC,GALR,CAME,IAAI,CAAE,CAAC,EANT,UAQGA,GAAG,CAACC,IARP,EACOD,GAAG,CAACE,EADX,CADF,CAYD,CAbA,CADH,EAAUJ,IAAV,CADF,CAkBD,CAnBA,CADH,EADF,EALF,cA6BE,eACE,SAAS,CAAC,6BADZ,CAEE,OAAO,CAAE,iBAACJ,CAAD,CAAO,CACdD,OAAO,CAACE,OAAR,CAAgBQ,IAAhB,GACD,CAJH,EA7BF,GAFF,GADF,EADF,CA2CD,CA/DkB,CAAnB","sourcesContent":["import React, { memo, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\r\n\r\nimport { Carousel } from \"antd\";\r\nimport { NEW_ALBUMS_LIMIT } from \"@/common/contants\";\r\nimport { getNewAlbumsAction } from \"../../store/actionCreators\";\r\n\r\nimport LJThemeHeaderRCM from \"@/components/theme-header-rcm\";\r\nimport LJAlbumCover from \"@/components/album-cover\";\r\nimport { AlbumWrapper } from \"./style\";\r\n\r\nexport default memo(function LJNewAlbum() {\r\n  // component state：组件内部的state\r\n\r\n  // redux hooks：获取state和dispatch\r\n  const { newAlbums } = useSelector(\r\n    (state) => ({\r\n      newAlbums: state.getIn([\"recommend\", \"newAlbums\"]),\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n  // other hooks：react的hooks\r\n  const pageRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    dispatch(getNewAlbumsAction(NEW_ALBUMS_LIMIT));\r\n  }, [dispatch]);\r\n  // other function：组件内部的其他逻辑\r\n\r\n  return (\r\n    <div>\r\n      <AlbumWrapper>\r\n        <LJThemeHeaderRCM title=\"新碟上架\" />\r\n        <div className=\"content\">\r\n          <button\r\n            className=\"arrow arrow-left sprite_02\"\r\n            onClick={(e) => pageRef.current.prev()}\r\n          ></button>\r\n          <div className=\"album\">\r\n            <Carousel dots={false} ref={pageRef}>\r\n              {[0, 1].map((item) => {\r\n                return (\r\n                  <div key={item} className=\"page\">\r\n                    {newAlbums.slice(item * 5, (item + 1) * 5).map((num) => {\r\n                      return (\r\n                        <LJAlbumCover\r\n                          key={num.id}\r\n                          info={num}\r\n                          size={100}\r\n                          width={118}\r\n                          bgp={-570}\r\n                          play={-85}\r\n                        >\r\n                          {num.name}\r\n                        </LJAlbumCover>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                );\r\n              })}\r\n            </Carousel>\r\n          </div>\r\n          <button\r\n            className=\"arrow arrow-right sprite_02\"\r\n            onClick={(e) => {\r\n              pageRef.current.next();\r\n            }}\r\n          ></button>\r\n        </div>\r\n      </AlbumWrapper>\r\n    </div>\r\n  );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}