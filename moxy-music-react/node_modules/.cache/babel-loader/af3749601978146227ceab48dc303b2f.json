{"ast":null,"code":"import * as actionTypes from \"./constants\";\nimport { getHotAlbums, getTopAlbums } from \"@/services/album.js\"; // 内部\n\nconst changeHotAlbumsAction = res => ({\n  type: actionTypes.CHANGE_HOT_ALBUMS,\n  hotAlbums: res.albums\n});\n\nconst changeTopAlbumAction = res => ({\n  type: actionTypes.CHANGE_TOP_ALBUMS,\n  topAlbums: res.albums\n});\n\nconst changeTopTotalAction = total => ({\n  type: actionTypes.CHANGE_TOP_TOTAL,\n  total: total\n}); // 异步action\n// 获得热门新碟数据\n\n\nexport const getHotAlbumsAction = () => {\n  return dispatch => {\n    getHotAlbums().then(res => {\n      dispatch(changeHotAlbumsAction(res));\n    });\n  };\n}; // 获得全部新碟数据\n\nexport const getTopAlbumsAction = page => {\n  return dispatch => {\n    getTopAlbums(30, (page - 1) * 30).then(res => {\n      dispatch(changeTopAlbumAction(res));\n      dispatch(changeTopTotalAction(res.total));\n    });\n  };\n};","map":{"version":3,"sources":["F:/ReactTea/moxy-music-react/src/pages/discover/c-pages/album/store/actionCreators.js"],"names":["actionTypes","getHotAlbums","getTopAlbums","changeHotAlbumsAction","res","type","CHANGE_HOT_ALBUMS","hotAlbums","albums","changeTopAlbumAction","CHANGE_TOP_ALBUMS","topAlbums","changeTopTotalAction","total","CHANGE_TOP_TOTAL","getHotAlbumsAction","dispatch","then","getTopAlbumsAction","page"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,aAA7B;AAEA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,qBAA3C,C,CAEA;;AACA,MAAMC,qBAAqB,GAAIC,GAAD,KAAU;AACtCC,EAAAA,IAAI,EAAEL,WAAW,CAACM,iBADoB;AAEtCC,EAAAA,SAAS,EAAEH,GAAG,CAACI;AAFuB,CAAV,CAA9B;;AAKA,MAAMC,oBAAoB,GAAIL,GAAD,KAAU;AACrCC,EAAAA,IAAI,EAAEL,WAAW,CAACU,iBADmB;AAErCC,EAAAA,SAAS,EAAEP,GAAG,CAACI;AAFsB,CAAV,CAA7B;;AAKA,MAAMI,oBAAoB,GAAIC,KAAD,KAAY;AACvCR,EAAAA,IAAI,EAAEL,WAAW,CAACc,gBADqB;AAEvCD,EAAAA,KAAK,EAAEA;AAFgC,CAAZ,CAA7B,C,CAKA;AACA;;;AACA,OAAO,MAAME,kBAAkB,GAAG,MAAM;AACtC,SAAQC,QAAD,IAAc;AACnBf,IAAAA,YAAY,GAAGgB,IAAf,CAAqBb,GAAD,IAAS;AAC3BY,MAAAA,QAAQ,CAACb,qBAAqB,CAACC,GAAD,CAAtB,CAAR;AACD,KAFD;AAGD,GAJD;AAKD,CANM,C,CAQP;;AACA,OAAO,MAAMc,kBAAkB,GAAIC,IAAD,IAAU;AAC1C,SAAQH,QAAD,IAAc;AACnBd,IAAAA,YAAY,CAAC,EAAD,EAAK,CAACiB,IAAI,GAAG,CAAR,IAAa,EAAlB,CAAZ,CAAkCF,IAAlC,CAAwCb,GAAD,IAAS;AAC9CY,MAAAA,QAAQ,CAACP,oBAAoB,CAACL,GAAD,CAArB,CAAR;AACAY,MAAAA,QAAQ,CAACJ,oBAAoB,CAACR,GAAG,CAACS,KAAL,CAArB,CAAR;AACD,KAHD;AAID,GALD;AAMD,CAPM","sourcesContent":["import * as actionTypes from \"./constants\";\n\nimport { getHotAlbums, getTopAlbums } from \"@/services/album.js\";\n\n// 内部\nconst changeHotAlbumsAction = (res) => ({\n  type: actionTypes.CHANGE_HOT_ALBUMS,\n  hotAlbums: res.albums,\n});\n\nconst changeTopAlbumAction = (res) => ({\n  type: actionTypes.CHANGE_TOP_ALBUMS,\n  topAlbums: res.albums,\n});\n\nconst changeTopTotalAction = (total) => ({\n  type: actionTypes.CHANGE_TOP_TOTAL,\n  total: total,\n});\n\n// 异步action\n// 获得热门新碟数据\nexport const getHotAlbumsAction = () => {\n  return (dispatch) => {\n    getHotAlbums().then((res) => {\n      dispatch(changeHotAlbumsAction(res));\n    });\n  };\n};\n\n// 获得全部新碟数据\nexport const getTopAlbumsAction = (page) => {\n  return (dispatch) => {\n    getTopAlbums(30, (page - 1) * 30).then((res) => {\n      dispatch(changeTopAlbumAction(res));\n      dispatch(changeTopTotalAction(res.total));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}