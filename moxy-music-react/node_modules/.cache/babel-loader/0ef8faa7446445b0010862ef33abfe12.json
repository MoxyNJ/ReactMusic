{"ast":null,"code":"import React,{memo}from\"react\";import{shallowEqual,useSelector,useDispatch}from\"react-redux\";import{getSizeImage,formatMinuteSecond}from\"@/utils/format-utils.js\";import{getSongDetailAction}from\"@/pages/player/store/index\";import LJThemeHeaderRanking from\"@/components/theme-header-ranking\";import{LJRankingListWrapper}from\"./style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(function LJRankingList(){// redux hooks\n// 多层嵌套的解构赋值\nvar _useSelector=useSelector(function(state){return{playList:state.getIn([\"ranking\",\"playList\"])};},shallowEqual),playList=_useSelector.playList,_useSelector$playList=_useSelector.playList.tracks,tracks=_useSelector$playList===void 0?[]:_useSelector$playList;var dispatch=useDispatch();// react hooks\n// other handle\nvar playMusic=function playMusic(item){dispatch(getSongDetailAction(item.id));};return/*#__PURE__*/_jsxs(LJRankingListWrapper,{children:[/*#__PURE__*/_jsx(LJThemeHeaderRanking,{titleName:\"歌曲列表\",titleNumber:playList.tracks&&playList.tracks.length,titlePlayer:playList.playCount}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"ranking\"}),/*#__PURE__*/_jsx(\"th\",{className:\"title\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:\"\\u6807\\u9898\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"duration\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:\"\\u65F6\\u957F\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"singer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:\"\\u6B4C\\u624B\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tracks.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"num\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"iconN sprite_icon2\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[index<3?/*#__PURE__*/_jsx(\"img\",{src:getSizeImage(item.al.picUrl,50),alt:item.name}):null,/*#__PURE__*/_jsx(\"span\",{className:\"play sprite_table\",onClick:function onClick(e){return playMusic(item);}}),/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:item.name})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"pannel\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeP\",children:formatMinuteSecond(item.dt)}),/*#__PURE__*/_jsxs(\"div\",{className:\"operate\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn addto sprite_icon2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn collection sprite_table\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn share sprite_table\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn download sprite_table\"})]})]})}),/*#__PURE__*/_jsx(\"td\",{children:item.ar[0].name})]},item.id);})})]})]});});","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/discover/c-pages/ranking/c-cpns/rank-list/index.js"],"names":["React","memo","shallowEqual","useSelector","useDispatch","getSizeImage","formatMinuteSecond","getSongDetailAction","LJThemeHeaderRanking","LJRankingListWrapper","LJRankingList","state","playList","getIn","tracks","dispatch","playMusic","item","id","length","playCount","map","index","al","picUrl","name","e","dt","ar"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,KAA4B,OAA5B,CACA,OAASC,YAAT,CAAuBC,WAAvB,CAAoCC,WAApC,KAAuD,aAAvD,CAEA,OAASC,YAAT,CAAuBC,kBAAvB,KAAiD,yBAAjD,CACA,OAASC,mBAAT,KAAoC,4BAApC,CAEA,MAAOC,CAAAA,oBAAP,KAAiC,mCAAjC,CAEA,OAASC,oBAAT,KAAqC,SAArC,C,wFACA,2BAAeR,IAAI,CAAC,QAASS,CAAAA,aAAT,EAAyB,CAC3C;AACA;AAF2C,iBAMvCP,WAAW,CACb,SAACQ,KAAD,QAAY,CACVC,QAAQ,CAAED,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,CAAY,UAAZ,CAAZ,CADA,CAAZ,EADa,CAIbX,YAJa,CAN4B,CAIzCU,QAJyC,cAIzCA,QAJyC,oCAKzCA,QALyC,CAK7BE,MAL6B,CAK7BA,MAL6B,gCAKpB,EALoB,uBAa3C,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA;AAEA;AACA,GAAMY,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,IAAD,CAAU,CAC1BF,QAAQ,CAACR,mBAAmB,CAACU,IAAI,CAACC,EAAN,CAApB,CAAR,CACD,CAFD,CAIA,mBACE,MAAC,oBAAD,yBACE,KAAC,oBAAD,EACE,SAAS,CAAE,MADb,CAEE,WAAW,CAAEN,QAAQ,CAACE,MAAT,EAAmBF,QAAQ,CAACE,MAAT,CAAgBK,MAFlD,CAGE,WAAW,CAAEP,QAAQ,CAACQ,SAHxB,EADF,cAME,sCACE,oCACE,mCACE,WAAI,SAAS,CAAC,SAAd,EADF,cAEE,WAAI,SAAS,CAAC,OAAd,uBACE,YAAK,SAAS,CAAC,SAAf,0BADF,EAFF,cAKE,WAAI,SAAS,CAAC,UAAd,uBACE,YAAK,SAAS,CAAC,SAAf,0BADF,EALF,cAQE,WAAI,SAAS,CAAC,QAAd,uBACE,YAAK,SAAS,CAAC,SAAf,0BADF,EARF,GADF,EADF,cAeE,uBACGN,MAAM,CAACO,GAAP,CAAW,SAACJ,IAAD,CAAOK,KAAP,CAAiB,CAC3B,mBACE,YAAkB,SAAS,CAAC,MAA5B,wBACE,iCACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAM,SAAS,CAAC,MAAhB,UAAwBA,KAAK,CAAG,CAAhC,EADF,cAEE,aAAM,SAAS,CAAC,oBAAhB,EAFF,GADF,EADF,cAOE,iCACE,aAAK,SAAS,CAAC,MAAf,WACGA,KAAK,CAAG,CAAR,cACC,YACE,GAAG,CAAEjB,YAAY,CAACY,IAAI,CAACM,EAAL,CAAQC,MAAT,CAAiB,EAAjB,CADnB,CAEE,GAAG,CAAEP,IAAI,CAACQ,IAFZ,EADD,CAKG,IANN,cAOE,aACE,SAAS,CAAC,mBADZ,CAEE,OAAO,CAAE,iBAACC,CAAD,QAAOV,CAAAA,SAAS,CAACC,IAAD,CAAhB,EAFX,EAPF,cAWE,aAAM,SAAS,CAAC,OAAhB,UAAyBA,IAAI,CAACQ,IAA9B,EAXF,GADF,EAPF,cAsBE,WAAI,SAAS,CAAC,QAAd,uBACE,oCACE,YAAK,SAAS,CAAC,OAAf,UAAwBnB,kBAAkB,CAACW,IAAI,CAACU,EAAN,CAA1C,EADF,cAEE,aAAK,SAAS,CAAC,SAAf,wBACE,eAAQ,SAAS,CAAC,wBAAlB,EADF,cAEE,eAAQ,SAAS,CAAC,6BAAlB,EAFF,cAGE,eAAQ,SAAS,CAAC,wBAAlB,EAHF,cAIE,eAAQ,SAAS,CAAC,2BAAlB,EAJF,GAFF,GADF,EAtBF,cAiCE,oBAAKV,IAAI,CAACW,EAAL,CAAQ,CAAR,EAAWH,IAAhB,EAjCF,GAASR,IAAI,CAACC,EAAd,CADF,CAqCD,CAtCA,CADH,EAfF,GANF,GADF,CAkED,CAxFkB,CAAnB","sourcesContent":["import React, { memo } from \"react\";\nimport { shallowEqual, useSelector, useDispatch } from \"react-redux\";\n\nimport { getSizeImage, formatMinuteSecond } from \"@/utils/format-utils.js\";\nimport { getSongDetailAction } from \"@/pages/player/store/index\";\n\nimport LJThemeHeaderRanking from \"@/components/theme-header-ranking\";\n\nimport { LJRankingListWrapper } from \"./style\";\nexport default memo(function LJRankingList() {\n  // redux hooks\n  // 多层嵌套的解构赋值\n  const {\n    playList,\n    playList: { tracks = [] },\n  } = useSelector(\n    (state) => ({\n      playList: state.getIn([\"ranking\", \"playList\"]),\n    }),\n    shallowEqual\n  );\n\n  const dispatch = useDispatch();\n\n  // react hooks\n\n  // other handle\n  const playMusic = (item) => {\n    dispatch(getSongDetailAction(item.id));\n  };\n\n  return (\n    <LJRankingListWrapper>\n      <LJThemeHeaderRanking\n        titleName={\"歌曲列表\"}\n        titleNumber={playList.tracks && playList.tracks.length}\n        titlePlayer={playList.playCount}\n      />\n      <table>\n        <thead>\n          <tr>\n            <th className=\"ranking\"></th>\n            <th className=\"title\">\n              <div className=\"content\">标题</div>\n            </th>\n            <th className=\"duration\">\n              <div className=\"content\">时长</div>\n            </th>\n            <th className=\"singer\">\n              <div className=\"content\">歌手</div>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {tracks.map((item, index) => {\n            return (\n              <tr key={item.id} className=\"item\">\n                <td>\n                  <div className=\"num\">\n                    <span className=\"text\">{index + 1}</span>\n                    <span className=\"iconN sprite_icon2\"></span>\n                  </div>\n                </td>\n                <td>\n                  <div className=\"info\">\n                    {index < 3 ? (\n                      <img\n                        src={getSizeImage(item.al.picUrl, 50)}\n                        alt={item.name}\n                      />\n                    ) : null}\n                    <span\n                      className=\"play sprite_table\"\n                      onClick={(e) => playMusic(item)}\n                    ></span>\n                    <span className=\"title\">{item.name}</span>\n                  </div>\n                </td>\n                <td className=\"pannel\">\n                  <div>\n                    <div className=\"timeP\">{formatMinuteSecond(item.dt)}</div>\n                    <div className=\"operate\">\n                      <button className=\"btn addto sprite_icon2\"></button>\n                      <button className=\"btn collection sprite_table\"></button>\n                      <button className=\"btn share sprite_table\"></button>\n                      <button className=\"btn download sprite_table\"></button>\n                    </div>\n                  </div>\n                </td>\n                <td>{item.ar[0].name}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </LJRankingListWrapper>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}