{"ast":null,"code":"import * as actionTypes from \"./constants\";\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\nimport { getSongCategoryList, getSongCategory } from \"@/services/songList\";\nimport { handleSongsCategory } from \"@/utils/handle-data\"; // 不暴露，内部action\n\nconst changeCategoryAction = cate => ({\n  type: actionTypes.CHANGE_CATEGORY,\n  category: cate\n});\n\nconst changeSongListAction = list => ({\n  type: actionTypes.CHANGE_SONG_LIST,\n  songList: list\n}); // 暴露，异步action\n// 当前展示的歌单类名\n\n\nexport const changeCurrentCategoryAction = name => ({\n  type: actionTypes.CHANGE_CURRENT_CATEGORY,\n  currentCategory: name\n}); // 全部歌单类名\n\nexport const getSongCategoryAction = () => {\n  return dispatch => {\n    getSongCategory().then(res => {\n      dispatch(changeCategoryAction(handleSongsCategory(res)));\n    });\n  };\n}; // 当前展示的歌单内容\n\nexport const getSongCategoryListAction = page => {\n  return (dispatch, getState) => {\n    // 获取歌单类名 currentCategory\n    const name = getState().getIn([\"songList\", \"currentCategory\"]);\n    getSongCategoryList(name, page * PER_PAGE_NUMBER).then(res => {\n      dispatch(changeSongListAction(res));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/discover/c-pages/songList/store/actionCreators.js"],"names":["actionTypes","PER_PAGE_NUMBER","getSongCategoryList","getSongCategory","handleSongsCategory","changeCategoryAction","cate","type","CHANGE_CATEGORY","category","changeSongListAction","list","CHANGE_SONG_LIST","songList","changeCurrentCategoryAction","name","CHANGE_CURRENT_CATEGORY","currentCategory","getSongCategoryAction","dispatch","then","res","getSongCategoryListAction","page","getState","getIn"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,aAA7B;AACA,SAASC,eAAT,QAAgC,mBAAhC;AAEA,SAASC,mBAAT,EAA8BC,eAA9B,QAAqD,qBAArD;AACA,SAASC,mBAAT,QAAoC,qBAApC,C,CACA;;AACA,MAAMC,oBAAoB,GAAIC,IAAD,KAAW;AACtCC,EAAAA,IAAI,EAAEP,WAAW,CAACQ,eADoB;AAEtCC,EAAAA,QAAQ,EAAEH;AAF4B,CAAX,CAA7B;;AAKA,MAAMI,oBAAoB,GAAIC,IAAD,KAAW;AACtCJ,EAAAA,IAAI,EAAEP,WAAW,CAACY,gBADoB;AAEtCC,EAAAA,QAAQ,EAAEF;AAF4B,CAAX,CAA7B,C,CAKA;AACA;;;AACA,OAAO,MAAMG,2BAA2B,GAAIC,IAAD,KAAW;AACpDR,EAAAA,IAAI,EAAEP,WAAW,CAACgB,uBADkC;AAEpDC,EAAAA,eAAe,EAAEF;AAFmC,CAAX,CAApC,C,CAKP;;AACA,OAAO,MAAMG,qBAAqB,GAAG,MAAM;AACzC,SAAQC,QAAD,IAAc;AACnBhB,IAAAA,eAAe,GAAGiB,IAAlB,CAAwBC,GAAD,IAAS;AAC9BF,MAAAA,QAAQ,CAACd,oBAAoB,CAACD,mBAAmB,CAACiB,GAAD,CAApB,CAArB,CAAR;AACD,KAFD;AAGD,GAJD;AAKD,CANM,C,CAQP;;AACA,OAAO,MAAMC,yBAAyB,GAAIC,IAAD,IAAU;AACjD,SAAO,CAACJ,QAAD,EAAWK,QAAX,KAAwB;AAC7B;AACA,UAAMT,IAAI,GAAGS,QAAQ,GAAGC,KAAX,CAAiB,CAAC,UAAD,EAAa,iBAAb,CAAjB,CAAb;AAEAvB,IAAAA,mBAAmB,CAACa,IAAD,EAAOQ,IAAI,GAAGtB,eAAd,CAAnB,CAAkDmB,IAAlD,CAAwDC,GAAD,IAAS;AAC9DF,MAAAA,QAAQ,CAACT,oBAAoB,CAACW,GAAD,CAArB,CAAR;AACD,KAFD;AAGD,GAPD;AAQD,CATM","sourcesContent":["import * as actionTypes from \"./constants\";\nimport { PER_PAGE_NUMBER } from \"@/common/contants\";\n\nimport { getSongCategoryList, getSongCategory } from \"@/services/songList\";\nimport { handleSongsCategory } from \"@/utils/handle-data\";\n// 不暴露，内部action\nconst changeCategoryAction = (cate) => ({\n  type: actionTypes.CHANGE_CATEGORY,\n  category: cate,\n});\n\nconst changeSongListAction = (list) => ({\n  type: actionTypes.CHANGE_SONG_LIST,\n  songList: list,\n});\n\n// 暴露，异步action\n// 当前展示的歌单类名\nexport const changeCurrentCategoryAction = (name) => ({\n  type: actionTypes.CHANGE_CURRENT_CATEGORY,\n  currentCategory: name,\n});\n\n// 全部歌单类名\nexport const getSongCategoryAction = () => {\n  return (dispatch) => {\n    getSongCategory().then((res) => {\n      dispatch(changeCategoryAction(handleSongsCategory(res)));\n    });\n  };\n};\n\n// 当前展示的歌单内容\nexport const getSongCategoryListAction = (page) => {\n  return (dispatch, getState) => {\n    // 获取歌单类名 currentCategory\n    const name = getState().getIn([\"songList\", \"currentCategory\"]);\n\n    getSongCategoryList(name, page * PER_PAGE_NUMBER).then((res) => {\n      dispatch(changeSongListAction(res));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}