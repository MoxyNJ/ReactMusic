{"ast":null,"code":"import _objectSpread from\"/Users/moxy/ReactTea/moxy-music-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getDjRadioCatelist,getDjRadioRecommend,getDjRadios}from\"@/services/djradio\";import*as actionTypes from\"./constants\";// 电台类目\nvar changeCategoryAction=function changeCategoryAction(res){return{type:actionTypes.CHANGE_RADIO_CATEGORY,categories:res.categories};};// 优秀新电台 - 推荐\nvar changeRecommendsAction=function changeRecommendsAction(res){return{type:actionTypes.CHANGE_RECOMMENDS,recommends:res.djRadios};};// 电台排行榜\nvar changeRadiosAction=function changeRadiosAction(res){return{type:actionTypes.CHANGE_RADIOS,radios:res.djRadios};};// 当前类名\nexport var changeCurrentIdAction=function changeCurrentIdAction(id){return{type:actionTypes.CHANGE_CURRENT_ID,currentId:id};};// 1 电台全部类目\nexport var getRadioCategories=function getRadioCategories(){return function(dispatch){getDjRadioCatelist().then(function(res){// 暂时额外再加两个假数据\nvar categories=res.categories;var add1=_objectSpread({},categories[categories.length-2]);var add2=_objectSpread({},categories[categories.length-1]);add1.name=\"常见问题\";add1.picWebUrl=\"https://music.163.com/style/web2/img/index_radio/radio_faq.png\";add2.name=\"我要做主播\";add2.picWebUrl=\"https://music.163.com/style/web2/img/index_radio/radio_apply.png\";res.categories.push(add1,add2);// 添加两个数据后，再正常的派发\ndispatch(changeCategoryAction(res));var currentId=res.categories[0].id;dispatch(changeCurrentIdAction(currentId));});};};// 2 电台推荐、优秀新电台\nexport var getRadioRecommend=function getRadioRecommend(currentId){return function(dispatch){getDjRadioRecommend(currentId).then(function(res){dispatch(changeRecommendsAction(res));});};};// 3 电台排行榜、全部内容\nexport var getRadios=function getRadios(currentId,offset){return function(dispatch){getDjRadios(currentId,30,offset).then(function(res){dispatch(changeRadiosAction(res));});};};","map":{"version":3,"sources":["/Users/moxy/ReactTea/moxy-music-react/src/pages/discover/c-pages/djradio/store/actionCreators.js"],"names":["getDjRadioCatelist","getDjRadioRecommend","getDjRadios","actionTypes","changeCategoryAction","res","type","CHANGE_RADIO_CATEGORY","categories","changeRecommendsAction","CHANGE_RECOMMENDS","recommends","djRadios","changeRadiosAction","CHANGE_RADIOS","radios","changeCurrentIdAction","id","CHANGE_CURRENT_ID","currentId","getRadioCategories","dispatch","then","add1","length","add2","name","picWebUrl","push","getRadioRecommend","getRadios","offset"],"mappings":"2JAAA,OACEA,kBADF,CAEEC,mBAFF,CAGEC,WAHF,KAIO,oBAJP,CAKA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,aAA7B,CAEA;AACA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,GAAD,QAAU,CACrCC,IAAI,CAAEH,WAAW,CAACI,qBADmB,CAErCC,UAAU,CAAEH,GAAG,CAACG,UAFqB,CAAV,EAA7B,CAKA;AACA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACJ,GAAD,QAAU,CACvCC,IAAI,CAAEH,WAAW,CAACO,iBADqB,CAEvCC,UAAU,CAAEN,GAAG,CAACO,QAFuB,CAAV,EAA/B,CAKA;AACA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACR,GAAD,QAAU,CACnCC,IAAI,CAAEH,WAAW,CAACW,aADiB,CAEnCC,MAAM,CAAEV,GAAG,CAACO,QAFuB,CAAV,EAA3B,CAKA;AACA,MAAO,IAAMI,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,EAAD,QAAS,CAC5CX,IAAI,CAAEH,WAAW,CAACe,iBAD0B,CAE5CC,SAAS,CAAEF,EAFiC,CAAT,EAA9B,CAKP;AACA,MAAO,IAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CACtC,MAAO,UAACC,QAAD,CAAc,CACnBrB,kBAAkB,GAAGsB,IAArB,CAA0B,SAACjB,GAAD,CAAS,CACjC;AACA,GAAMG,CAAAA,UAAU,CAAGH,GAAG,CAACG,UAAvB,CACA,GAAMe,CAAAA,IAAI,kBAAQf,UAAU,CAACA,UAAU,CAACgB,MAAX,CAAoB,CAArB,CAAlB,CAAV,CACA,GAAMC,CAAAA,IAAI,kBAAQjB,UAAU,CAACA,UAAU,CAACgB,MAAX,CAAoB,CAArB,CAAlB,CAAV,CACAD,IAAI,CAACG,IAAL,CAAY,MAAZ,CACAH,IAAI,CAACI,SAAL,CACE,gEADF,CAEAF,IAAI,CAACC,IAAL,CAAY,OAAZ,CACAD,IAAI,CAACE,SAAL,CACE,kEADF,CAEAtB,GAAG,CAACG,UAAJ,CAAeoB,IAAf,CAAoBL,IAApB,CAA0BE,IAA1B,EAEA;AACAJ,QAAQ,CAACjB,oBAAoB,CAACC,GAAD,CAArB,CAAR,CACA,GAAMc,CAAAA,SAAS,CAAGd,GAAG,CAACG,UAAJ,CAAe,CAAf,EAAkBS,EAApC,CACAI,QAAQ,CAACL,qBAAqB,CAACG,SAAD,CAAtB,CAAR,CACD,CAjBD,EAkBD,CAnBD,CAoBD,CArBM,CAuBP;AACA,MAAO,IAAMU,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACV,SAAD,CAAe,CAC9C,MAAO,UAACE,QAAD,CAAc,CACnBpB,mBAAmB,CAACkB,SAAD,CAAnB,CAA+BG,IAA/B,CAAoC,SAACjB,GAAD,CAAS,CAC3CgB,QAAQ,CAACZ,sBAAsB,CAACJ,GAAD,CAAvB,CAAR,CACD,CAFD,EAGD,CAJD,CAKD,CANM,CAQP;AACA,MAAO,IAAMyB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACX,SAAD,CAAYY,MAAZ,CAAuB,CAC9C,MAAO,UAACV,QAAD,CAAc,CACnBnB,WAAW,CAACiB,SAAD,CAAY,EAAZ,CAAgBY,MAAhB,CAAX,CAAmCT,IAAnC,CAAwC,SAACjB,GAAD,CAAS,CAC/CgB,QAAQ,CAACR,kBAAkB,CAACR,GAAD,CAAnB,CAAR,CACD,CAFD,EAGD,CAJD,CAKD,CANM","sourcesContent":["import {\n  getDjRadioCatelist,\n  getDjRadioRecommend,\n  getDjRadios,\n} from \"@/services/djradio\";\nimport * as actionTypes from \"./constants\";\n\n// 电台类目\nconst changeCategoryAction = (res) => ({\n  type: actionTypes.CHANGE_RADIO_CATEGORY,\n  categories: res.categories,\n});\n\n// 优秀新电台 - 推荐\nconst changeRecommendsAction = (res) => ({\n  type: actionTypes.CHANGE_RECOMMENDS,\n  recommends: res.djRadios,\n});\n\n// 电台排行榜\nconst changeRadiosAction = (res) => ({\n  type: actionTypes.CHANGE_RADIOS,\n  radios: res.djRadios,\n});\n\n// 当前类名\nexport const changeCurrentIdAction = (id) => ({\n  type: actionTypes.CHANGE_CURRENT_ID,\n  currentId: id,\n});\n\n// 1 电台全部类目\nexport const getRadioCategories = () => {\n  return (dispatch) => {\n    getDjRadioCatelist().then((res) => {\n      // 暂时额外再加两个假数据\n      const categories = res.categories;\n      const add1 = { ...categories[categories.length - 2] };\n      const add2 = { ...categories[categories.length - 1] };\n      add1.name = \"常见问题\";\n      add1.picWebUrl =\n        \"https://music.163.com/style/web2/img/index_radio/radio_faq.png\";\n      add2.name = \"我要做主播\";\n      add2.picWebUrl =\n        \"https://music.163.com/style/web2/img/index_radio/radio_apply.png\";\n      res.categories.push(add1, add2);\n\n      // 添加两个数据后，再正常的派发\n      dispatch(changeCategoryAction(res));\n      const currentId = res.categories[0].id;\n      dispatch(changeCurrentIdAction(currentId));\n    });\n  };\n};\n\n// 2 电台推荐、优秀新电台\nexport const getRadioRecommend = (currentId) => {\n  return (dispatch) => {\n    getDjRadioRecommend(currentId).then((res) => {\n      dispatch(changeRecommendsAction(res));\n    });\n  };\n};\n\n// 3 电台排行榜、全部内容\nexport const getRadios = (currentId, offset) => {\n  return (dispatch) => {\n    getDjRadios(currentId, 30, offset).then((res) => {\n      dispatch(changeRadiosAction(res));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}