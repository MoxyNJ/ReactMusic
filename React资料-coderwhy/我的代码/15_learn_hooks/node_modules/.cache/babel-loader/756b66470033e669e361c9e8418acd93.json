{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.run = run;\n\nfunction _os() {\n  const data = require('os');\n\n  _os = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction path() {\n  const data = _interopRequireWildcard(require('path'));\n\n  path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _yargs() {\n  const data = _interopRequireDefault(require('yargs'));\n\n  _yargs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _console() {\n  const data = require('@jest/console');\n\n  _console = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestConfig() {\n  const data = require('jest-config');\n\n  _jestConfig = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestUtil() {\n  const data = require('jest-util');\n\n  _jestUtil = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestValidate() {\n  const data = require('jest-validate');\n\n  _jestValidate = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _version() {\n  const data = require('../version');\n\n  _version = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar args = _interopRequireWildcard(require('./args'));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== 'function') return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== 'object' && typeof obj !== 'function') {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nasync function run(cliArgv, cliInfo) {\n  let argv;\n\n  if (cliArgv) {\n    argv = cliArgv;\n  } else {\n    argv = _yargs().default.usage(args.usage).help(false).version(false).options(args.options).argv;\n    (0, _jestValidate().validateCLIOptions)(argv, { ...args.options,\n      deprecationEntries: _jestConfig().deprecationEntries\n    });\n  }\n\n  if (argv.help) {\n    _yargs().default.showHelp();\n\n    process.on('exit', () => process.exitCode = 1);\n    return;\n  }\n\n  if (argv.version) {\n    console.log(`v${_version().VERSION}\\n`);\n    return;\n  }\n\n  if (!argv._.length) {\n    console.log('Please provide a path to a script. (See --help for details)');\n    process.on('exit', () => process.exitCode = 1);\n    return;\n  }\n\n  const root = (0, _jestUtil().tryRealpath)(process.cwd());\n  const filePath = path().resolve(root, argv._[0]);\n\n  if (argv.debug) {\n    const info = cliInfo ? ', ' + cliInfo.join(', ') : '';\n    console.log(`Using Jest Runtime v${_version().VERSION}${info}`);\n  }\n\n  const options = await (0, _jestConfig().readConfig)(argv, root);\n  const globalConfig = options.globalConfig; // Always disable automocking in scripts.\n\n  const config = { ...options.projectConfig,\n    automock: false\n  };\n\n  const Runtime = require('..');\n\n  try {\n    var _runtime$unstable_sho2;\n\n    const hasteMap = await Runtime.createContext(config, {\n      maxWorkers: Math.max((0, _os().cpus)().length - 1, 1),\n      watchman: globalConfig.watchman\n    });\n\n    const Environment = require(config.testEnvironment);\n\n    const environment = new Environment(config);\n    (0, _jestUtil().setGlobal)(environment.global, 'console', new (_console().CustomConsole)(process.stdout, process.stderr));\n    (0, _jestUtil().setGlobal)(environment.global, 'jestProjectConfig', config);\n    (0, _jestUtil().setGlobal)(environment.global, 'jestGlobalConfig', globalConfig);\n    const runtime = new Runtime(config, environment, hasteMap.resolver, undefined, undefined, filePath);\n\n    for (const path of config.setupFiles) {\n      var _runtime$unstable_sho; // TODO: remove ? in Jest 26\n\n\n      const esm = (_runtime$unstable_sho = runtime.unstable_shouldLoadAsEsm) === null || _runtime$unstable_sho === void 0 ? void 0 : _runtime$unstable_sho.call(runtime, path);\n\n      if (esm) {\n        await runtime.unstable_importModule(path);\n      } else {\n        runtime.requireModule(path);\n      }\n    } // TODO: remove ? in Jest 26\n\n\n    const esm = (_runtime$unstable_sho2 = runtime.unstable_shouldLoadAsEsm) === null || _runtime$unstable_sho2 === void 0 ? void 0 : _runtime$unstable_sho2.call(runtime, filePath);\n\n    if (esm) {\n      await runtime.unstable_importModule(filePath);\n    } else {\n      runtime.requireModule(filePath);\n    }\n  } catch (e) {\n    console.error(_chalk().default.red(e.stack || e));\n    process.on('exit', () => process.exitCode = 1);\n  }\n}","map":{"version":3,"sources":["F:/GreenTea-Lemon/React/coderwhyReact/我的代码/15_learn_hooks/node_modules/jest-runtime/build/cli/index.js"],"names":["Object","defineProperty","exports","value","run","_os","data","require","path","_interopRequireWildcard","_chalk","_interopRequireDefault","_yargs","_console","_jestConfig","_jestUtil","_jestValidate","_version","args","obj","__esModule","default","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","cliArgv","cliInfo","argv","usage","help","version","options","validateCLIOptions","deprecationEntries","showHelp","process","on","exitCode","console","log","VERSION","_","length","root","tryRealpath","cwd","filePath","resolve","debug","info","join","readConfig","globalConfig","config","projectConfig","automock","Runtime","_runtime$unstable_sho2","hasteMap","createContext","maxWorkers","Math","max","cpus","watchman","Environment","testEnvironment","environment","setGlobal","global","CustomConsole","stdout","stderr","runtime","resolver","undefined","setupFiles","_runtime$unstable_sho","esm","unstable_shouldLoadAsEsm","unstable_importModule","requireModule","e","error","red","stack"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,GAAR,GAAcA,GAAd;;AAEA,SAASC,GAAT,GAAe;AACb,QAAMC,IAAI,GAAGC,OAAO,CAAC,IAAD,CAApB;;AAEAF,EAAAA,GAAG,GAAG,YAAY;AAChB,WAAOC,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASE,IAAT,GAAgB;AACd,QAAMF,IAAI,GAAGG,uBAAuB,CAACF,OAAO,CAAC,MAAD,CAAR,CAApC;;AAEAC,EAAAA,IAAI,GAAG,YAAY;AACjB,WAAOF,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASI,MAAT,GAAkB;AAChB,QAAMJ,IAAI,GAAGK,sBAAsB,CAACJ,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEAG,EAAAA,MAAM,GAAG,YAAY;AACnB,WAAOJ,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASM,MAAT,GAAkB;AAChB,QAAMN,IAAI,GAAGK,sBAAsB,CAACJ,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEAK,EAAAA,MAAM,GAAG,YAAY;AACnB,WAAON,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASO,QAAT,GAAoB;AAClB,QAAMP,IAAI,GAAGC,OAAO,CAAC,eAAD,CAApB;;AAEAM,EAAAA,QAAQ,GAAG,YAAY;AACrB,WAAOP,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASQ,WAAT,GAAuB;AACrB,QAAMR,IAAI,GAAGC,OAAO,CAAC,aAAD,CAApB;;AAEAO,EAAAA,WAAW,GAAG,YAAY;AACxB,WAAOR,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASS,SAAT,GAAqB;AACnB,QAAMT,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AAEAQ,EAAAA,SAAS,GAAG,YAAY;AACtB,WAAOT,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASU,aAAT,GAAyB;AACvB,QAAMV,IAAI,GAAGC,OAAO,CAAC,eAAD,CAApB;;AAEAS,EAAAA,aAAa,GAAG,YAAY;AAC1B,WAAOV,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASW,QAAT,GAAoB;AAClB,QAAMX,IAAI,GAAGC,OAAO,CAAC,YAAD,CAApB;;AAEAU,EAAAA,QAAQ,GAAG,YAAY;AACrB,WAAOX,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,IAAIY,IAAI,GAAGT,uBAAuB,CAACF,OAAO,CAAC,QAAD,CAAR,CAAlC;;AAEA,SAASI,sBAAT,CAAgCQ,GAAhC,EAAqC;AACnC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAACE,IAAAA,OAAO,EAAEF;AAAV,GAArC;AACD;;AAED,SAASG,wBAAT,GAAoC;AAClC,MAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC,OAAO,IAAP;AACnC,MAAIC,KAAK,GAAG,IAAID,OAAJ,EAAZ;;AACAD,EAAAA,wBAAwB,GAAG,YAAY;AACrC,WAAOE,KAAP;AACD,GAFD;;AAGA,SAAOA,KAAP;AACD;;AAED,SAASf,uBAAT,CAAiCU,GAAjC,EAAsC;AACpC,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AACzB,WAAOD,GAAP;AACD;;AACD,MAAIA,GAAG,KAAK,IAAR,IAAiB,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,UAA/D,EAA4E;AAC1E,WAAO;AAACE,MAAAA,OAAO,EAAEF;AAAV,KAAP;AACD;;AACD,MAAIK,KAAK,GAAGF,wBAAwB,EAApC;;AACA,MAAIE,KAAK,IAAIA,KAAK,CAACC,GAAN,CAAUN,GAAV,CAAb,EAA6B;AAC3B,WAAOK,KAAK,CAACE,GAAN,CAAUP,GAAV,CAAP;AACD;;AACD,MAAIQ,MAAM,GAAG,EAAb;AACA,MAAIC,qBAAqB,GACvB5B,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAAC6B,wBADlC;;AAEA,OAAK,IAAIC,GAAT,IAAgBX,GAAhB,EAAqB;AACnB,QAAInB,MAAM,CAAC+B,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCd,GAArC,EAA0CW,GAA1C,CAAJ,EAAoD;AAClD,UAAII,IAAI,GAAGN,qBAAqB,GAC5B5B,MAAM,CAAC6B,wBAAP,CAAgCV,GAAhC,EAAqCW,GAArC,CAD4B,GAE5B,IAFJ;;AAGA,UAAII,IAAI,KAAKA,IAAI,CAACR,GAAL,IAAYQ,IAAI,CAACC,GAAtB,CAAR,EAAoC;AAClCnC,QAAAA,MAAM,CAACC,cAAP,CAAsB0B,MAAtB,EAA8BG,GAA9B,EAAmCI,IAAnC;AACD,OAFD,MAEO;AACLP,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAcX,GAAG,CAACW,GAAD,CAAjB;AACD;AACF;AACF;;AACDH,EAAAA,MAAM,CAACN,OAAP,GAAiBF,GAAjB;;AACA,MAAIK,KAAJ,EAAW;AACTA,IAAAA,KAAK,CAACW,GAAN,CAAUhB,GAAV,EAAeQ,MAAf;AACD;;AACD,SAAOA,MAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAevB,GAAf,CAAmBgC,OAAnB,EAA4BC,OAA5B,EAAqC;AACnC,MAAIC,IAAJ;;AAEA,MAAIF,OAAJ,EAAa;AACXE,IAAAA,IAAI,GAAGF,OAAP;AACD,GAFD,MAEO;AACLE,IAAAA,IAAI,GAAG1B,MAAM,GACVS,OADI,CACIkB,KADJ,CACUrB,IAAI,CAACqB,KADf,EAEJC,IAFI,CAEC,KAFD,EAGJC,OAHI,CAGI,KAHJ,EAIJC,OAJI,CAIIxB,IAAI,CAACwB,OAJT,EAIkBJ,IAJzB;AAKA,KAAC,GAAGtB,aAAa,GAAG2B,kBAApB,EAAwCL,IAAxC,EAA8C,EAC5C,GAAGpB,IAAI,CAACwB,OADoC;AAE5CE,MAAAA,kBAAkB,EAAE9B,WAAW,GAAG8B;AAFU,KAA9C;AAID;;AAED,MAAIN,IAAI,CAACE,IAAT,EAAe;AACb5B,IAAAA,MAAM,GAAGS,OAAT,CAAiBwB,QAAjB;;AAEAC,IAAAA,OAAO,CAACC,EAAR,CAAW,MAAX,EAAmB,MAAOD,OAAO,CAACE,QAAR,GAAmB,CAA7C;AACA;AACD;;AAED,MAAIV,IAAI,CAACG,OAAT,EAAkB;AAChBQ,IAAAA,OAAO,CAACC,GAAR,CAAa,IAAGjC,QAAQ,GAAGkC,OAAQ,IAAnC;AACA;AACD;;AAED,MAAI,CAACb,IAAI,CAACc,CAAL,CAAOC,MAAZ,EAAoB;AAClBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,6DAAZ;AACAJ,IAAAA,OAAO,CAACC,EAAR,CAAW,MAAX,EAAmB,MAAOD,OAAO,CAACE,QAAR,GAAmB,CAA7C;AACA;AACD;;AAED,QAAMM,IAAI,GAAG,CAAC,GAAGvC,SAAS,GAAGwC,WAAhB,EAA6BT,OAAO,CAACU,GAAR,EAA7B,CAAb;AACA,QAAMC,QAAQ,GAAGjD,IAAI,GAAGkD,OAAP,CAAeJ,IAAf,EAAqBhB,IAAI,CAACc,CAAL,CAAO,CAAP,CAArB,CAAjB;;AAEA,MAAId,IAAI,CAACqB,KAAT,EAAgB;AACd,UAAMC,IAAI,GAAGvB,OAAO,GAAG,OAAOA,OAAO,CAACwB,IAAR,CAAa,IAAb,CAAV,GAA+B,EAAnD;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAa,uBAAsBjC,QAAQ,GAAGkC,OAAQ,GAAES,IAAK,EAA7D;AACD;;AAED,QAAMlB,OAAO,GAAG,MAAM,CAAC,GAAG5B,WAAW,GAAGgD,UAAlB,EAA8BxB,IAA9B,EAAoCgB,IAApC,CAAtB;AACA,QAAMS,YAAY,GAAGrB,OAAO,CAACqB,YAA7B,CA5CmC,CA4CQ;;AAE3C,QAAMC,MAAM,GAAG,EAAC,GAAGtB,OAAO,CAACuB,aAAZ;AAA2BC,IAAAA,QAAQ,EAAE;AAArC,GAAf;;AAEA,QAAMC,OAAO,GAAG5D,OAAO,CAAC,IAAD,CAAvB;;AAEA,MAAI;AACF,QAAI6D,sBAAJ;;AAEA,UAAMC,QAAQ,GAAG,MAAMF,OAAO,CAACG,aAAR,CAAsBN,MAAtB,EAA8B;AACnDO,MAAAA,UAAU,EAAEC,IAAI,CAACC,GAAL,CAAS,CAAC,GAAGpE,GAAG,GAAGqE,IAAV,IAAkBrB,MAAlB,GAA2B,CAApC,EAAuC,CAAvC,CADuC;AAEnDsB,MAAAA,QAAQ,EAAEZ,YAAY,CAACY;AAF4B,KAA9B,CAAvB;;AAKA,UAAMC,WAAW,GAAGrE,OAAO,CAACyD,MAAM,CAACa,eAAR,CAA3B;;AAEA,UAAMC,WAAW,GAAG,IAAIF,WAAJ,CAAgBZ,MAAhB,CAApB;AACA,KAAC,GAAGjD,SAAS,GAAGgE,SAAhB,EACED,WAAW,CAACE,MADd,EAEE,SAFF,EAGE,KAAKnE,QAAQ,GAAGoE,aAAhB,EAA+BnC,OAAO,CAACoC,MAAvC,EAA+CpC,OAAO,CAACqC,MAAvD,CAHF;AAKA,KAAC,GAAGpE,SAAS,GAAGgE,SAAhB,EAA2BD,WAAW,CAACE,MAAvC,EAA+C,mBAA/C,EAAoEhB,MAApE;AACA,KAAC,GAAGjD,SAAS,GAAGgE,SAAhB,EACED,WAAW,CAACE,MADd,EAEE,kBAFF,EAGEjB,YAHF;AAKA,UAAMqB,OAAO,GAAG,IAAIjB,OAAJ,CACdH,MADc,EAEdc,WAFc,EAGdT,QAAQ,CAACgB,QAHK,EAIdC,SAJc,EAKdA,SALc,EAMd7B,QANc,CAAhB;;AASA,SAAK,MAAMjD,IAAX,IAAmBwD,MAAM,CAACuB,UAA1B,EAAsC;AACpC,UAAIC,qBAAJ,CADoC,CAGpC;;;AACA,YAAMC,GAAG,GACP,CAACD,qBAAqB,GAAGJ,OAAO,CAACM,wBAAjC,MAA+D,IAA/D,IACAF,qBAAqB,KAAK,KAAK,CAD/B,GAEI,KAAK,CAFT,GAGIA,qBAAqB,CAACvD,IAAtB,CAA2BmD,OAA3B,EAAoC5E,IAApC,CAJN;;AAMA,UAAIiF,GAAJ,EAAS;AACP,cAAML,OAAO,CAACO,qBAAR,CAA8BnF,IAA9B,CAAN;AACD,OAFD,MAEO;AACL4E,QAAAA,OAAO,CAACQ,aAAR,CAAsBpF,IAAtB;AACD;AACF,KA9CC,CA8CA;;;AAEF,UAAMiF,GAAG,GACP,CAACrB,sBAAsB,GAAGgB,OAAO,CAACM,wBAAlC,MAAgE,IAAhE,IACAtB,sBAAsB,KAAK,KAAK,CADhC,GAEI,KAAK,CAFT,GAGIA,sBAAsB,CAACnC,IAAvB,CAA4BmD,OAA5B,EAAqC3B,QAArC,CAJN;;AAMA,QAAIgC,GAAJ,EAAS;AACP,YAAML,OAAO,CAACO,qBAAR,CAA8BlC,QAA9B,CAAN;AACD,KAFD,MAEO;AACL2B,MAAAA,OAAO,CAACQ,aAAR,CAAsBnC,QAAtB;AACD;AACF,GA3DD,CA2DE,OAAOoC,CAAP,EAAU;AACV5C,IAAAA,OAAO,CAAC6C,KAAR,CAAcpF,MAAM,GAAGW,OAAT,CAAiB0E,GAAjB,CAAqBF,CAAC,CAACG,KAAF,IAAWH,CAAhC,CAAd;AACA/C,IAAAA,OAAO,CAACC,EAAR,CAAW,MAAX,EAAmB,MAAOD,OAAO,CAACE,QAAR,GAAmB,CAA7C;AACD;AACF","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.run = run;\n\nfunction _os() {\n  const data = require('os');\n\n  _os = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction path() {\n  const data = _interopRequireWildcard(require('path'));\n\n  path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _yargs() {\n  const data = _interopRequireDefault(require('yargs'));\n\n  _yargs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _console() {\n  const data = require('@jest/console');\n\n  _console = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestConfig() {\n  const data = require('jest-config');\n\n  _jestConfig = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestUtil() {\n  const data = require('jest-util');\n\n  _jestUtil = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestValidate() {\n  const data = require('jest-validate');\n\n  _jestValidate = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _version() {\n  const data = require('../version');\n\n  _version = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar args = _interopRequireWildcard(require('./args'));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== 'function') return null;\n  var cache = new WeakMap();\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    return {default: obj};\n  }\n  var cache = _getRequireWildcardCache();\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor =\n    Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor\n        ? Object.getOwnPropertyDescriptor(obj, key)\n        : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nasync function run(cliArgv, cliInfo) {\n  let argv;\n\n  if (cliArgv) {\n    argv = cliArgv;\n  } else {\n    argv = _yargs()\n      .default.usage(args.usage)\n      .help(false)\n      .version(false)\n      .options(args.options).argv;\n    (0, _jestValidate().validateCLIOptions)(argv, {\n      ...args.options,\n      deprecationEntries: _jestConfig().deprecationEntries\n    });\n  }\n\n  if (argv.help) {\n    _yargs().default.showHelp();\n\n    process.on('exit', () => (process.exitCode = 1));\n    return;\n  }\n\n  if (argv.version) {\n    console.log(`v${_version().VERSION}\\n`);\n    return;\n  }\n\n  if (!argv._.length) {\n    console.log('Please provide a path to a script. (See --help for details)');\n    process.on('exit', () => (process.exitCode = 1));\n    return;\n  }\n\n  const root = (0, _jestUtil().tryRealpath)(process.cwd());\n  const filePath = path().resolve(root, argv._[0]);\n\n  if (argv.debug) {\n    const info = cliInfo ? ', ' + cliInfo.join(', ') : '';\n    console.log(`Using Jest Runtime v${_version().VERSION}${info}`);\n  }\n\n  const options = await (0, _jestConfig().readConfig)(argv, root);\n  const globalConfig = options.globalConfig; // Always disable automocking in scripts.\n\n  const config = {...options.projectConfig, automock: false};\n\n  const Runtime = require('..');\n\n  try {\n    var _runtime$unstable_sho2;\n\n    const hasteMap = await Runtime.createContext(config, {\n      maxWorkers: Math.max((0, _os().cpus)().length - 1, 1),\n      watchman: globalConfig.watchman\n    });\n\n    const Environment = require(config.testEnvironment);\n\n    const environment = new Environment(config);\n    (0, _jestUtil().setGlobal)(\n      environment.global,\n      'console',\n      new (_console().CustomConsole)(process.stdout, process.stderr)\n    );\n    (0, _jestUtil().setGlobal)(environment.global, 'jestProjectConfig', config);\n    (0, _jestUtil().setGlobal)(\n      environment.global,\n      'jestGlobalConfig',\n      globalConfig\n    );\n    const runtime = new Runtime(\n      config,\n      environment,\n      hasteMap.resolver,\n      undefined,\n      undefined,\n      filePath\n    );\n\n    for (const path of config.setupFiles) {\n      var _runtime$unstable_sho;\n\n      // TODO: remove ? in Jest 26\n      const esm =\n        (_runtime$unstable_sho = runtime.unstable_shouldLoadAsEsm) === null ||\n        _runtime$unstable_sho === void 0\n          ? void 0\n          : _runtime$unstable_sho.call(runtime, path);\n\n      if (esm) {\n        await runtime.unstable_importModule(path);\n      } else {\n        runtime.requireModule(path);\n      }\n    } // TODO: remove ? in Jest 26\n\n    const esm =\n      (_runtime$unstable_sho2 = runtime.unstable_shouldLoadAsEsm) === null ||\n      _runtime$unstable_sho2 === void 0\n        ? void 0\n        : _runtime$unstable_sho2.call(runtime, filePath);\n\n    if (esm) {\n      await runtime.unstable_importModule(filePath);\n    } else {\n      runtime.requireModule(filePath);\n    }\n  } catch (e) {\n    console.error(_chalk().default.red(e.stack || e));\n    process.on('exit', () => (process.exitCode = 1));\n  }\n}\n"]},"metadata":{},"sourceType":"script"}