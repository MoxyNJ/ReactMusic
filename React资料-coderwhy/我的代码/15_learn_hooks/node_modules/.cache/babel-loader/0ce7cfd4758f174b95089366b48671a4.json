{"ast":null,"code":"'use strict';\n\nconst {\n  Session\n} = require('inspector');\n\nconst {\n  promisify\n} = require('util');\n\nclass CoverageInstrumenter {\n  constructor() {\n    this.session = new Session();\n    this.postSession = promisify(this.session.post.bind(this.session));\n  }\n\n  async startInstrumenting() {\n    this.session.connect();\n    await this.postSession('Profiler.enable');\n    await this.postSession('Profiler.startPreciseCoverage', {\n      callCount: true,\n      detailed: true\n    });\n  }\n\n  async stopInstrumenting() {\n    const {\n      result\n    } = await this.postSession('Profiler.takePreciseCoverage');\n    await this.postSession('Profiler.stopPreciseCoverage');\n    await this.postSession('Profiler.disable');\n    return result;\n  }\n\n}\n\nmodule.exports.CoverageInstrumenter = CoverageInstrumenter;","map":{"version":3,"sources":["F:/GreenTea-Lemon/React/coderwhyReact/我的代码/15_learn_hooks/node_modules/collect-v8-coverage/index.js"],"names":["Session","require","promisify","CoverageInstrumenter","constructor","session","postSession","post","bind","startInstrumenting","connect","callCount","detailed","stopInstrumenting","result","module","exports"],"mappings":"AAAA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAcC,OAAO,CAAC,WAAD,CAA3B;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAgBD,OAAO,CAAC,MAAD,CAA7B;;AAEA,MAAME,oBAAN,CAA2B;AACzBC,EAAAA,WAAW,GAAG;AACZ,SAAKC,OAAL,GAAe,IAAIL,OAAJ,EAAf;AAEA,SAAKM,WAAL,GAAmBJ,SAAS,CAAC,KAAKG,OAAL,CAAaE,IAAb,CAAkBC,IAAlB,CAAuB,KAAKH,OAA5B,CAAD,CAA5B;AACD;;AAEuB,QAAlBI,kBAAkB,GAAG;AACzB,SAAKJ,OAAL,CAAaK,OAAb;AAEA,UAAM,KAAKJ,WAAL,CAAiB,iBAAjB,CAAN;AAEA,UAAM,KAAKA,WAAL,CAAiB,+BAAjB,EAAkD;AACtDK,MAAAA,SAAS,EAAE,IAD2C;AAEtDC,MAAAA,QAAQ,EAAE;AAF4C,KAAlD,CAAN;AAID;;AAEsB,QAAjBC,iBAAiB,GAAG;AACxB,UAAM;AAACC,MAAAA;AAAD,QAAW,MAAM,KAAKR,WAAL,CACrB,8BADqB,CAAvB;AAIA,UAAM,KAAKA,WAAL,CAAiB,8BAAjB,CAAN;AAEA,UAAM,KAAKA,WAAL,CAAiB,kBAAjB,CAAN;AAEA,WAAOQ,MAAP;AACD;;AA5BwB;;AA+B3BC,MAAM,CAACC,OAAP,CAAeb,oBAAf,GAAsCA,oBAAtC","sourcesContent":["'use strict';\n\nconst { Session } = require('inspector');\nconst { promisify } = require('util');\n\nclass CoverageInstrumenter {\n  constructor() {\n    this.session = new Session();\n\n    this.postSession = promisify(this.session.post.bind(this.session));\n  }\n\n  async startInstrumenting() {\n    this.session.connect();\n\n    await this.postSession('Profiler.enable');\n\n    await this.postSession('Profiler.startPreciseCoverage', {\n      callCount: true,\n      detailed: true,\n    });\n  }\n\n  async stopInstrumenting() {\n    const {result} = await this.postSession(\n      'Profiler.takePreciseCoverage',\n    );\n\n    await this.postSession('Profiler.stopPreciseCoverage');\n\n    await this.postSession('Profiler.disable');\n\n    return result;\n  }\n}\n\nmodule.exports.CoverageInstrumenter = CoverageInstrumenter;\n"]},"metadata":{},"sourceType":"script"}